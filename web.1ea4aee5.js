parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"XJqx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setMatrixArrayType=e,exports.toRadian=s,exports.equals=n,exports.RANDOM=exports.ARRAY_TYPE=exports.EPSILON=void 0;var t=1e-6;exports.EPSILON=t;var r="undefined"!=typeof Float32Array?Float32Array:Array;exports.ARRAY_TYPE=r;var a=Math.random;function e(t){exports.ARRAY_TYPE=r=t}exports.RANDOM=a;var o=Math.PI/180;function s(t){return t*o}function n(r,a){return Math.abs(r-a)<=t*Math.max(1,Math.abs(r),Math.abs(a))}Math.hypot||(Math.hypot=function(){for(var t=0,r=arguments.length;r--;)t+=arguments[r]*arguments[r];return Math.sqrt(t)});
},{}],"eN7R":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.clone=o,exports.copy=a,exports.identity=u,exports.fromValues=s,exports.set=i,exports.transpose=c,exports.invert=p,exports.adjoint=f,exports.determinant=x,exports.multiply=l,exports.rotate=M,exports.scale=h,exports.fromRotation=b,exports.fromScaling=v,exports.str=y,exports.frob=d,exports.LDU=m,exports.add=P,exports.subtract=O,exports.exactEquals=A,exports.equals=j,exports.multiplyScalar=E,exports.multiplyScalarAndAdd=R,exports.sub=exports.mul=void 0;var t=e(require("./common.js"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function e(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var u=o?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=t[a]}return n.default=t,e&&e.set(t,n),n}function n(){var r=new t.ARRAY_TYPE(4);return t.ARRAY_TYPE!=Float32Array&&(r[1]=0,r[2]=0),r[0]=1,r[3]=1,r}function o(r){var e=new t.ARRAY_TYPE(4);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e}function a(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function s(r,e,n,o){var a=new t.ARRAY_TYPE(4);return a[0]=r,a[1]=e,a[2]=n,a[3]=o,a}function i(t,r,e,n,o){return t[0]=r,t[1]=e,t[2]=n,t[3]=o,t}function c(t,r){if(t===r){var e=r[1];t[1]=r[2],t[2]=e}else t[0]=r[0],t[1]=r[2],t[2]=r[1],t[3]=r[3];return t}function p(t,r){var e=r[0],n=r[1],o=r[2],a=r[3],u=e*a-o*n;return u?(u=1/u,t[0]=a*u,t[1]=-n*u,t[2]=-o*u,t[3]=e*u,t):null}function f(t,r){var e=r[0];return t[0]=r[3],t[1]=-r[1],t[2]=-r[2],t[3]=e,t}function x(t){return t[0]*t[3]-t[2]*t[1]}function l(t,r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=e[0],i=e[1],c=e[2],p=e[3];return t[0]=n*s+a*i,t[1]=o*s+u*i,t[2]=n*c+a*p,t[3]=o*c+u*p,t}function M(t,r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=Math.sin(e),i=Math.cos(e);return t[0]=n*i+a*s,t[1]=o*i+u*s,t[2]=n*-s+a*i,t[3]=o*-s+u*i,t}function h(t,r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=e[0],i=e[1];return t[0]=n*s,t[1]=o*s,t[2]=a*i,t[3]=u*i,t}function b(t,r){var e=Math.sin(r),n=Math.cos(r);return t[0]=n,t[1]=e,t[2]=-e,t[3]=n,t}function v(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t}function y(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function d(t){return Math.hypot(t[0],t[1],t[2],t[3])}function m(t,r,e,n){return t[2]=n[2]/n[0],e[0]=n[0],e[1]=n[1],e[3]=n[3]-t[2]*e[1],[t,r,e]}function P(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t}function O(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t}function A(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]}function j(r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=e[0],i=e[1],c=e[2],p=e[3];return Math.abs(n-s)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-i)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(i))&&Math.abs(a-c)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(u-p)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(p))}function E(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t}function R(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t}var Y=l;exports.mul=Y;var _=O;exports.sub=_;
},{"./common.js":"XJqx"}],"M21d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.clone=a,exports.copy=o,exports.identity=u,exports.fromValues=s,exports.set=i,exports.invert=c,exports.determinant=p,exports.multiply=f,exports.rotate=x,exports.scale=l,exports.translate=M,exports.fromRotation=h,exports.fromScaling=b,exports.fromTranslation=v,exports.str=m,exports.frob=y,exports.add=d,exports.subtract=P,exports.multiplyScalar=O,exports.multiplyScalarAndAdd=A,exports.exactEquals=E,exports.equals=R,exports.sub=exports.mul=void 0;var t=e(require("./common.js"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function e(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var u=a?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}function n(){var r=new t.ARRAY_TYPE(6);return t.ARRAY_TYPE!=Float32Array&&(r[1]=0,r[2]=0,r[4]=0,r[5]=0),r[0]=1,r[3]=1,r}function a(r){var e=new t.ARRAY_TYPE(6);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e}function o(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function s(r,e,n,a,o,u){var s=new t.ARRAY_TYPE(6);return s[0]=r,s[1]=e,s[2]=n,s[3]=a,s[4]=o,s[5]=u,s}function i(t,r,e,n,a,o,u){return t[0]=r,t[1]=e,t[2]=n,t[3]=a,t[4]=o,t[5]=u,t}function c(t,r){var e=r[0],n=r[1],a=r[2],o=r[3],u=r[4],s=r[5],i=e*o-n*a;return i?(i=1/i,t[0]=o*i,t[1]=-n*i,t[2]=-a*i,t[3]=e*i,t[4]=(a*s-o*u)*i,t[5]=(n*u-e*s)*i,t):null}function p(t){return t[0]*t[3]-t[1]*t[2]}function f(t,r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=e[0],p=e[1],f=e[2],x=e[3],l=e[4],M=e[5];return t[0]=n*c+o*p,t[1]=a*c+u*p,t[2]=n*f+o*x,t[3]=a*f+u*x,t[4]=n*l+o*M+s,t[5]=a*l+u*M+i,t}function x(t,r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=Math.sin(e),p=Math.cos(e);return t[0]=n*p+o*c,t[1]=a*p+u*c,t[2]=n*-c+o*p,t[3]=a*-c+u*p,t[4]=s,t[5]=i,t}function l(t,r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=e[0],p=e[1];return t[0]=n*c,t[1]=a*c,t[2]=o*p,t[3]=u*p,t[4]=s,t[5]=i,t}function M(t,r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=e[0],p=e[1];return t[0]=n,t[1]=a,t[2]=o,t[3]=u,t[4]=n*c+o*p+s,t[5]=a*c+u*p+i,t}function h(t,r){var e=Math.sin(r),n=Math.cos(r);return t[0]=n,t[1]=e,t[2]=-e,t[3]=n,t[4]=0,t[5]=0,t}function b(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t[4]=0,t[5]=0,t}function v(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=r[0],t[5]=r[1],t}function m(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function y(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function d(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t[4]=r[4]+e[4],t[5]=r[5]+e[5],t}function P(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t[4]=r[4]-e[4],t[5]=r[5]-e[5],t}function O(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*e,t[5]=r[5]*e,t}function A(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t[4]=r[4]+e[4]*n,t[5]=r[5]+e[5]*n,t}function E(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]}function R(r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=e[0],p=e[1],f=e[2],x=e[3],l=e[4],M=e[5];return Math.abs(n-c)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-p)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(o-f)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(u-x)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(s-l)<=t.EPSILON*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(i-M)<=t.EPSILON*Math.max(1,Math.abs(i),Math.abs(M))}var S=f;exports.mul=S;var j=P;exports.sub=j;
},{"./common.js":"XJqx"}],"vtQf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=a,exports.fromMat4=e,exports.clone=o,exports.copy=u,exports.fromValues=s,exports.set=i,exports.identity=c,exports.transpose=f,exports.invert=p,exports.adjoint=M,exports.determinant=x,exports.multiply=h,exports.translate=b,exports.rotate=l,exports.scale=m,exports.fromTranslation=v,exports.fromRotation=P,exports.fromScaling=O,exports.fromMat2d=d,exports.fromQuat=y,exports.normalFromMat4=E,exports.projection=S,exports.str=A,exports.frob=j,exports.add=I,exports.subtract=L,exports.multiplyScalar=N,exports.multiplyScalarAndAdd=R,exports.exactEquals=Y,exports.equals=_,exports.sub=exports.mul=void 0;var t=n(require("./common.js"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=r();if(n&&n.has(t))return n.get(t);var a={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var u=e?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=t[o]}return a.default=t,n&&n.set(t,a),a}function a(){var r=new t.ARRAY_TYPE(9);return t.ARRAY_TYPE!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function e(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[4],t[4]=r[5],t[5]=r[6],t[6]=r[8],t[7]=r[9],t[8]=r[10],t}function o(r){var n=new t.ARRAY_TYPE(9);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t}function s(r,n,a,e,o,u,s,i,c){var f=new t.ARRAY_TYPE(9);return f[0]=r,f[1]=n,f[2]=a,f[3]=e,f[4]=o,f[5]=u,f[6]=s,f[7]=i,f[8]=c,f}function i(t,r,n,a,e,o,u,s,i,c){return t[0]=r,t[1]=n,t[2]=a,t[3]=e,t[4]=o,t[5]=u,t[6]=s,t[7]=i,t[8]=c,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function f(t,r){if(t===r){var n=r[1],a=r[2],e=r[5];t[1]=r[3],t[2]=r[6],t[3]=n,t[5]=r[7],t[6]=a,t[7]=e}else t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8];return t}function p(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],s=r[5],i=r[6],c=r[7],f=r[8],p=f*u-s*c,M=-f*o+s*i,x=c*o-u*i,h=n*p+a*M+e*x;return h?(h=1/h,t[0]=p*h,t[1]=(-f*a+e*c)*h,t[2]=(s*a-e*u)*h,t[3]=M*h,t[4]=(f*n-e*i)*h,t[5]=(-s*n+e*o)*h,t[6]=x*h,t[7]=(-c*n+a*i)*h,t[8]=(u*n-a*o)*h,t):null}function M(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],s=r[5],i=r[6],c=r[7],f=r[8];return t[0]=u*f-s*c,t[1]=e*c-a*f,t[2]=a*s-e*u,t[3]=s*i-o*f,t[4]=n*f-e*i,t[5]=e*o-n*s,t[6]=o*c-u*i,t[7]=a*i-n*c,t[8]=n*u-a*o,t}function x(t){var r=t[0],n=t[1],a=t[2],e=t[3],o=t[4],u=t[5],s=t[6],i=t[7],c=t[8];return r*(c*o-u*i)+n*(-c*e+u*s)+a*(i*e-o*s)}function h(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=r[6],f=r[7],p=r[8],M=n[0],x=n[1],h=n[2],b=n[3],l=n[4],m=n[5],v=n[6],P=n[7],O=n[8];return t[0]=M*a+x*u+h*c,t[1]=M*e+x*s+h*f,t[2]=M*o+x*i+h*p,t[3]=b*a+l*u+m*c,t[4]=b*e+l*s+m*f,t[5]=b*o+l*i+m*p,t[6]=v*a+P*u+O*c,t[7]=v*e+P*s+O*f,t[8]=v*o+P*i+O*p,t}function b(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=r[6],f=r[7],p=r[8],M=n[0],x=n[1];return t[0]=a,t[1]=e,t[2]=o,t[3]=u,t[4]=s,t[5]=i,t[6]=M*a+x*u+c,t[7]=M*e+x*s+f,t[8]=M*o+x*i+p,t}function l(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=r[6],f=r[7],p=r[8],M=Math.sin(n),x=Math.cos(n);return t[0]=x*a+M*u,t[1]=x*e+M*s,t[2]=x*o+M*i,t[3]=x*u-M*a,t[4]=x*s-M*e,t[5]=x*i-M*o,t[6]=c,t[7]=f,t[8]=p,t}function m(t,r,n){var a=n[0],e=n[1];return t[0]=a*r[0],t[1]=a*r[1],t[2]=a*r[2],t[3]=e*r[3],t[4]=e*r[4],t[5]=e*r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t}function v(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=r[0],t[7]=r[1],t[8]=1,t}function P(t,r){var n=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=n,t[2]=0,t[3]=-n,t[4]=a,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function O(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=r[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function d(t,r){return t[0]=r[0],t[1]=r[1],t[2]=0,t[3]=r[2],t[4]=r[3],t[5]=0,t[6]=r[4],t[7]=r[5],t[8]=1,t}function y(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=n+n,s=a+a,i=e+e,c=n*u,f=a*u,p=a*s,M=e*u,x=e*s,h=e*i,b=o*u,l=o*s,m=o*i;return t[0]=1-p-h,t[3]=f-m,t[6]=M+l,t[1]=f+m,t[4]=1-c-h,t[7]=x-b,t[2]=M-l,t[5]=x+b,t[8]=1-c-p,t}function E(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],s=r[5],i=r[6],c=r[7],f=r[8],p=r[9],M=r[10],x=r[11],h=r[12],b=r[13],l=r[14],m=r[15],v=n*s-a*u,P=n*i-e*u,O=n*c-o*u,d=a*i-e*s,y=a*c-o*s,E=e*c-o*i,S=f*b-p*h,A=f*l-M*h,j=f*m-x*h,I=p*l-M*b,L=p*m-x*b,N=M*m-x*l,R=v*N-P*L+O*I+d*j-y*A+E*S;return R?(R=1/R,t[0]=(s*N-i*L+c*I)*R,t[1]=(i*j-u*N-c*A)*R,t[2]=(u*L-s*j+c*S)*R,t[3]=(e*L-a*N-o*I)*R,t[4]=(n*N-e*j+o*A)*R,t[5]=(a*j-n*L-o*S)*R,t[6]=(b*E-l*y+m*d)*R,t[7]=(l*O-h*E-m*P)*R,t[8]=(h*y-b*O+m*v)*R,t):null}function S(t,r,n){return t[0]=2/r,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function A(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function j(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function I(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t[4]=r[4]+n[4],t[5]=r[5]+n[5],t[6]=r[6]+n[6],t[7]=r[7]+n[7],t[8]=r[8]+n[8],t}function L(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t[4]=r[4]-n[4],t[5]=r[5]-n[5],t[6]=r[6]-n[6],t[7]=r[7]-n[7],t[8]=r[8]-n[8],t}function N(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*n,t[5]=r[5]*n,t[6]=r[6]*n,t[7]=r[7]*n,t[8]=r[8]*n,t}function R(t,r,n,a){return t[0]=r[0]+n[0]*a,t[1]=r[1]+n[1]*a,t[2]=r[2]+n[2]*a,t[3]=r[3]+n[3]*a,t[4]=r[4]+n[4]*a,t[5]=r[5]+n[5]*a,t[6]=r[6]+n[6]*a,t[7]=r[7]+n[7]*a,t[8]=r[8]+n[8]*a,t}function Y(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]}function _(r,n){var a=r[0],e=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=r[6],f=r[7],p=r[8],M=n[0],x=n[1],h=n[2],b=n[3],l=n[4],m=n[5],v=n[6],P=n[7],O=n[8];return Math.abs(a-M)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(e-x)<=t.EPSILON*Math.max(1,Math.abs(e),Math.abs(x))&&Math.abs(o-h)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(u-b)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(s-l)<=t.EPSILON*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(i-m)<=t.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(c-v)<=t.EPSILON*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(f-P)<=t.EPSILON*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(p-O)<=t.EPSILON*Math.max(1,Math.abs(p),Math.abs(O))}var w=h;exports.mul=w;var g=L;exports.sub=g;
},{"./common.js":"XJqx"}],"w3aR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.clone=e,exports.copy=o,exports.fromValues=s,exports.set=u,exports.identity=h,exports.transpose=M,exports.invert=i,exports.adjoint=c,exports.determinant=p,exports.multiply=f,exports.translate=x,exports.scale=b,exports.rotate=l,exports.rotateX=v,exports.rotateY=m,exports.rotateZ=P,exports.fromTranslation=O,exports.fromScaling=E,exports.fromRotation=S,exports.fromXRotation=y,exports.fromYRotation=I,exports.fromZRotation=L,exports.fromRotationTranslation=N,exports.fromQuat2=R,exports.getTranslation=d,exports.getScaling=g,exports.getRotation=A,exports.fromRotationTranslationScale=Y,exports.fromRotationTranslationScaleOrigin=T,exports.fromQuat=w,exports.frustum=_,exports.perspective=j,exports.perspectiveFromFieldOfView=q,exports.ortho=D,exports.lookAt=k,exports.targetTo=F,exports.str=Q,exports.frob=V,exports.add=W,exports.subtract=X,exports.multiplyScalar=Z,exports.multiplyScalarAndAdd=z,exports.exactEquals=B,exports.equals=C,exports.sub=exports.mul=void 0;var t=r(require("./common.js"));function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=a();if(r&&r.has(t))return r.get(t);var n={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=e?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}function n(){var a=new t.ARRAY_TYPE(16);return t.ARRAY_TYPE!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0),a[0]=1,a[5]=1,a[10]=1,a[15]=1,a}function e(a){var r=new t.ARRAY_TYPE(16);return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],r[4]=a[4],r[5]=a[5],r[6]=a[6],r[7]=a[7],r[8]=a[8],r[9]=a[9],r[10]=a[10],r[11]=a[11],r[12]=a[12],r[13]=a[13],r[14]=a[14],r[15]=a[15],r}function o(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t}function s(a,r,n,e,o,s,u,h,M,i,c,p,f,x,b,l){var v=new t.ARRAY_TYPE(16);return v[0]=a,v[1]=r,v[2]=n,v[3]=e,v[4]=o,v[5]=s,v[6]=u,v[7]=h,v[8]=M,v[9]=i,v[10]=c,v[11]=p,v[12]=f,v[13]=x,v[14]=b,v[15]=l,v}function u(t,a,r,n,e,o,s,u,h,M,i,c,p,f,x,b,l){return t[0]=a,t[1]=r,t[2]=n,t[3]=e,t[4]=o,t[5]=s,t[6]=u,t[7]=h,t[8]=M,t[9]=i,t[10]=c,t[11]=p,t[12]=f,t[13]=x,t[14]=b,t[15]=l,t}function h(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function M(t,a){if(t===a){var r=a[1],n=a[2],e=a[3],o=a[6],s=a[7],u=a[11];t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=r,t[6]=a[9],t[7]=a[13],t[8]=n,t[9]=o,t[11]=a[14],t[12]=e,t[13]=s,t[14]=u}else t[0]=a[0],t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=a[1],t[5]=a[5],t[6]=a[9],t[7]=a[13],t[8]=a[2],t[9]=a[6],t[10]=a[10],t[11]=a[14],t[12]=a[3],t[13]=a[7],t[14]=a[11],t[15]=a[15];return t}function i(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],s=a[4],u=a[5],h=a[6],M=a[7],i=a[8],c=a[9],p=a[10],f=a[11],x=a[12],b=a[13],l=a[14],v=a[15],m=r*u-n*s,P=r*h-e*s,O=r*M-o*s,E=n*h-e*u,S=n*M-o*u,y=e*M-o*h,I=i*b-c*x,L=i*l-p*x,N=i*v-f*x,R=c*l-p*b,d=c*v-f*b,g=p*v-f*l,A=m*g-P*d+O*R+E*N-S*L+y*I;return A?(A=1/A,t[0]=(u*g-h*d+M*R)*A,t[1]=(e*d-n*g-o*R)*A,t[2]=(b*y-l*S+v*E)*A,t[3]=(p*S-c*y-f*E)*A,t[4]=(h*N-s*g-M*L)*A,t[5]=(r*g-e*N+o*L)*A,t[6]=(l*O-x*y-v*P)*A,t[7]=(i*y-p*O+f*P)*A,t[8]=(s*d-u*N+M*I)*A,t[9]=(n*N-r*d-o*I)*A,t[10]=(x*S-b*O+v*m)*A,t[11]=(c*O-i*S-f*m)*A,t[12]=(u*L-s*R-h*I)*A,t[13]=(r*R-n*L+e*I)*A,t[14]=(b*P-x*E-l*m)*A,t[15]=(i*E-c*P+p*m)*A,t):null}function c(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],s=a[4],u=a[5],h=a[6],M=a[7],i=a[8],c=a[9],p=a[10],f=a[11],x=a[12],b=a[13],l=a[14],v=a[15];return t[0]=u*(p*v-f*l)-c*(h*v-M*l)+b*(h*f-M*p),t[1]=-(n*(p*v-f*l)-c*(e*v-o*l)+b*(e*f-o*p)),t[2]=n*(h*v-M*l)-u*(e*v-o*l)+b*(e*M-o*h),t[3]=-(n*(h*f-M*p)-u*(e*f-o*p)+c*(e*M-o*h)),t[4]=-(s*(p*v-f*l)-i*(h*v-M*l)+x*(h*f-M*p)),t[5]=r*(p*v-f*l)-i*(e*v-o*l)+x*(e*f-o*p),t[6]=-(r*(h*v-M*l)-s*(e*v-o*l)+x*(e*M-o*h)),t[7]=r*(h*f-M*p)-s*(e*f-o*p)+i*(e*M-o*h),t[8]=s*(c*v-f*b)-i*(u*v-M*b)+x*(u*f-M*c),t[9]=-(r*(c*v-f*b)-i*(n*v-o*b)+x*(n*f-o*c)),t[10]=r*(u*v-M*b)-s*(n*v-o*b)+x*(n*M-o*u),t[11]=-(r*(u*f-M*c)-s*(n*f-o*c)+i*(n*M-o*u)),t[12]=-(s*(c*l-p*b)-i*(u*l-h*b)+x*(u*p-h*c)),t[13]=r*(c*l-p*b)-i*(n*l-e*b)+x*(n*p-e*c),t[14]=-(r*(u*l-h*b)-s*(n*l-e*b)+x*(n*h-e*u)),t[15]=r*(u*p-h*c)-s*(n*p-e*c)+i*(n*h-e*u),t}function p(t){var a=t[0],r=t[1],n=t[2],e=t[3],o=t[4],s=t[5],u=t[6],h=t[7],M=t[8],i=t[9],c=t[10],p=t[11],f=t[12],x=t[13],b=t[14],l=t[15];return(a*s-r*o)*(c*l-p*b)-(a*u-n*o)*(i*l-p*x)+(a*h-e*o)*(i*b-c*x)+(r*u-n*s)*(M*l-p*f)-(r*h-e*s)*(M*b-c*f)+(n*h-e*u)*(M*x-i*f)}function f(t,a,r){var n=a[0],e=a[1],o=a[2],s=a[3],u=a[4],h=a[5],M=a[6],i=a[7],c=a[8],p=a[9],f=a[10],x=a[11],b=a[12],l=a[13],v=a[14],m=a[15],P=r[0],O=r[1],E=r[2],S=r[3];return t[0]=P*n+O*u+E*c+S*b,t[1]=P*e+O*h+E*p+S*l,t[2]=P*o+O*M+E*f+S*v,t[3]=P*s+O*i+E*x+S*m,P=r[4],O=r[5],E=r[6],S=r[7],t[4]=P*n+O*u+E*c+S*b,t[5]=P*e+O*h+E*p+S*l,t[6]=P*o+O*M+E*f+S*v,t[7]=P*s+O*i+E*x+S*m,P=r[8],O=r[9],E=r[10],S=r[11],t[8]=P*n+O*u+E*c+S*b,t[9]=P*e+O*h+E*p+S*l,t[10]=P*o+O*M+E*f+S*v,t[11]=P*s+O*i+E*x+S*m,P=r[12],O=r[13],E=r[14],S=r[15],t[12]=P*n+O*u+E*c+S*b,t[13]=P*e+O*h+E*p+S*l,t[14]=P*o+O*M+E*f+S*v,t[15]=P*s+O*i+E*x+S*m,t}function x(t,a,r){var n,e,o,s,u,h,M,i,c,p,f,x,b=r[0],l=r[1],v=r[2];return a===t?(t[12]=a[0]*b+a[4]*l+a[8]*v+a[12],t[13]=a[1]*b+a[5]*l+a[9]*v+a[13],t[14]=a[2]*b+a[6]*l+a[10]*v+a[14],t[15]=a[3]*b+a[7]*l+a[11]*v+a[15]):(n=a[0],e=a[1],o=a[2],s=a[3],u=a[4],h=a[5],M=a[6],i=a[7],c=a[8],p=a[9],f=a[10],x=a[11],t[0]=n,t[1]=e,t[2]=o,t[3]=s,t[4]=u,t[5]=h,t[6]=M,t[7]=i,t[8]=c,t[9]=p,t[10]=f,t[11]=x,t[12]=n*b+u*l+c*v+a[12],t[13]=e*b+h*l+p*v+a[13],t[14]=o*b+M*l+f*v+a[14],t[15]=s*b+i*l+x*v+a[15]),t}function b(t,a,r){var n=r[0],e=r[1],o=r[2];return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t[4]=a[4]*e,t[5]=a[5]*e,t[6]=a[6]*e,t[7]=a[7]*e,t[8]=a[8]*o,t[9]=a[9]*o,t[10]=a[10]*o,t[11]=a[11]*o,t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t}function l(a,r,n,e){var o,s,u,h,M,i,c,p,f,x,b,l,v,m,P,O,E,S,y,I,L,N,R,d,g=e[0],A=e[1],Y=e[2],T=Math.hypot(g,A,Y);return T<t.EPSILON?null:(g*=T=1/T,A*=T,Y*=T,o=Math.sin(n),u=1-(s=Math.cos(n)),h=r[0],M=r[1],i=r[2],c=r[3],p=r[4],f=r[5],x=r[6],b=r[7],l=r[8],v=r[9],m=r[10],P=r[11],O=g*g*u+s,E=A*g*u+Y*o,S=Y*g*u-A*o,y=g*A*u-Y*o,I=A*A*u+s,L=Y*A*u+g*o,N=g*Y*u+A*o,R=A*Y*u-g*o,d=Y*Y*u+s,a[0]=h*O+p*E+l*S,a[1]=M*O+f*E+v*S,a[2]=i*O+x*E+m*S,a[3]=c*O+b*E+P*S,a[4]=h*y+p*I+l*L,a[5]=M*y+f*I+v*L,a[6]=i*y+x*I+m*L,a[7]=c*y+b*I+P*L,a[8]=h*N+p*R+l*d,a[9]=M*N+f*R+v*d,a[10]=i*N+x*R+m*d,a[11]=c*N+b*R+P*d,r!==a&&(a[12]=r[12],a[13]=r[13],a[14]=r[14],a[15]=r[15]),a)}function v(t,a,r){var n=Math.sin(r),e=Math.cos(r),o=a[4],s=a[5],u=a[6],h=a[7],M=a[8],i=a[9],c=a[10],p=a[11];return a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[4]=o*e+M*n,t[5]=s*e+i*n,t[6]=u*e+c*n,t[7]=h*e+p*n,t[8]=M*e-o*n,t[9]=i*e-s*n,t[10]=c*e-u*n,t[11]=p*e-h*n,t}function m(t,a,r){var n=Math.sin(r),e=Math.cos(r),o=a[0],s=a[1],u=a[2],h=a[3],M=a[8],i=a[9],c=a[10],p=a[11];return a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=o*e-M*n,t[1]=s*e-i*n,t[2]=u*e-c*n,t[3]=h*e-p*n,t[8]=o*n+M*e,t[9]=s*n+i*e,t[10]=u*n+c*e,t[11]=h*n+p*e,t}function P(t,a,r){var n=Math.sin(r),e=Math.cos(r),o=a[0],s=a[1],u=a[2],h=a[3],M=a[4],i=a[5],c=a[6],p=a[7];return a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=o*e+M*n,t[1]=s*e+i*n,t[2]=u*e+c*n,t[3]=h*e+p*n,t[4]=M*e-o*n,t[5]=i*e-s*n,t[6]=c*e-u*n,t[7]=p*e-h*n,t}function O(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t}function E(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=a[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function S(a,r,n){var e,o,s,u=n[0],h=n[1],M=n[2],i=Math.hypot(u,h,M);return i<t.EPSILON?null:(u*=i=1/i,h*=i,M*=i,e=Math.sin(r),s=1-(o=Math.cos(r)),a[0]=u*u*s+o,a[1]=h*u*s+M*e,a[2]=M*u*s-h*e,a[3]=0,a[4]=u*h*s-M*e,a[5]=h*h*s+o,a[6]=M*h*s+u*e,a[7]=0,a[8]=u*M*s+h*e,a[9]=h*M*s-u*e,a[10]=M*M*s+o,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a)}function y(t,a){var r=Math.sin(a),n=Math.cos(a);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function I(t,a){var r=Math.sin(a),n=Math.cos(a);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function L(t,a){var r=Math.sin(a),n=Math.cos(a);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function N(t,a,r){var n=a[0],e=a[1],o=a[2],s=a[3],u=n+n,h=e+e,M=o+o,i=n*u,c=n*h,p=n*M,f=e*h,x=e*M,b=o*M,l=s*u,v=s*h,m=s*M;return t[0]=1-(f+b),t[1]=c+m,t[2]=p-v,t[3]=0,t[4]=c-m,t[5]=1-(i+b),t[6]=x+l,t[7]=0,t[8]=p+v,t[9]=x-l,t[10]=1-(i+f),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function R(a,r){var n=new t.ARRAY_TYPE(3),e=-r[0],o=-r[1],s=-r[2],u=r[3],h=r[4],M=r[5],i=r[6],c=r[7],p=e*e+o*o+s*s+u*u;return p>0?(n[0]=2*(h*u+c*e+M*s-i*o)/p,n[1]=2*(M*u+c*o+i*e-h*s)/p,n[2]=2*(i*u+c*s+h*o-M*e)/p):(n[0]=2*(h*u+c*e+M*s-i*o),n[1]=2*(M*u+c*o+i*e-h*s),n[2]=2*(i*u+c*s+h*o-M*e)),N(a,r,n),a}function d(t,a){return t[0]=a[12],t[1]=a[13],t[2]=a[14],t}function g(t,a){var r=a[0],n=a[1],e=a[2],o=a[4],s=a[5],u=a[6],h=a[8],M=a[9],i=a[10];return t[0]=Math.hypot(r,n,e),t[1]=Math.hypot(o,s,u),t[2]=Math.hypot(h,M,i),t}function A(a,r){var n=new t.ARRAY_TYPE(3);g(n,r);var e=1/n[0],o=1/n[1],s=1/n[2],u=r[0]*e,h=r[1]*o,M=r[2]*s,i=r[4]*e,c=r[5]*o,p=r[6]*s,f=r[8]*e,x=r[9]*o,b=r[10]*s,l=u+c+b,v=0;return l>0?(v=2*Math.sqrt(l+1),a[3]=.25*v,a[0]=(p-x)/v,a[1]=(f-M)/v,a[2]=(h-i)/v):u>c&&u>b?(v=2*Math.sqrt(1+u-c-b),a[3]=(p-x)/v,a[0]=.25*v,a[1]=(h+i)/v,a[2]=(f+M)/v):c>b?(v=2*Math.sqrt(1+c-u-b),a[3]=(f-M)/v,a[0]=(h+i)/v,a[1]=.25*v,a[2]=(p+x)/v):(v=2*Math.sqrt(1+b-u-c),a[3]=(h-i)/v,a[0]=(f+M)/v,a[1]=(p+x)/v,a[2]=.25*v),a}function Y(t,a,r,n){var e=a[0],o=a[1],s=a[2],u=a[3],h=e+e,M=o+o,i=s+s,c=e*h,p=e*M,f=e*i,x=o*M,b=o*i,l=s*i,v=u*h,m=u*M,P=u*i,O=n[0],E=n[1],S=n[2];return t[0]=(1-(x+l))*O,t[1]=(p+P)*O,t[2]=(f-m)*O,t[3]=0,t[4]=(p-P)*E,t[5]=(1-(c+l))*E,t[6]=(b+v)*E,t[7]=0,t[8]=(f+m)*S,t[9]=(b-v)*S,t[10]=(1-(c+x))*S,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function T(t,a,r,n,e){var o=a[0],s=a[1],u=a[2],h=a[3],M=o+o,i=s+s,c=u+u,p=o*M,f=o*i,x=o*c,b=s*i,l=s*c,v=u*c,m=h*M,P=h*i,O=h*c,E=n[0],S=n[1],y=n[2],I=e[0],L=e[1],N=e[2],R=(1-(b+v))*E,d=(f+O)*E,g=(x-P)*E,A=(f-O)*S,Y=(1-(p+v))*S,T=(l+m)*S,w=(x+P)*y,_=(l-m)*y,j=(1-(p+b))*y;return t[0]=R,t[1]=d,t[2]=g,t[3]=0,t[4]=A,t[5]=Y,t[6]=T,t[7]=0,t[8]=w,t[9]=_,t[10]=j,t[11]=0,t[12]=r[0]+I-(R*I+A*L+w*N),t[13]=r[1]+L-(d*I+Y*L+_*N),t[14]=r[2]+N-(g*I+T*L+j*N),t[15]=1,t}function w(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],s=r+r,u=n+n,h=e+e,M=r*s,i=n*s,c=n*u,p=e*s,f=e*u,x=e*h,b=o*s,l=o*u,v=o*h;return t[0]=1-c-x,t[1]=i+v,t[2]=p-l,t[3]=0,t[4]=i-v,t[5]=1-M-x,t[6]=f+b,t[7]=0,t[8]=p+l,t[9]=f-b,t[10]=1-M-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _(t,a,r,n,e,o,s){var u=1/(r-a),h=1/(e-n),M=1/(o-s);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*h,t[6]=0,t[7]=0,t[8]=(r+a)*u,t[9]=(e+n)*h,t[10]=(s+o)*M,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*o*2*M,t[15]=0,t}function j(t,a,r,n,e){var o,s=1/Math.tan(a/2);return t[0]=s/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=e&&e!==1/0?(o=1/(n-e),t[10]=(e+n)*o,t[14]=2*e*n*o):(t[10]=-1,t[14]=-2*n),t}function q(t,a,r,n){var e=Math.tan(a.upDegrees*Math.PI/180),o=Math.tan(a.downDegrees*Math.PI/180),s=Math.tan(a.leftDegrees*Math.PI/180),u=Math.tan(a.rightDegrees*Math.PI/180),h=2/(s+u),M=2/(e+o);return t[0]=h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=M,t[6]=0,t[7]=0,t[8]=-(s-u)*h*.5,t[9]=(e-o)*M*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}function D(t,a,r,n,e,o,s){var u=1/(a-r),h=1/(n-e),M=1/(o-s);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*M,t[11]=0,t[12]=(a+r)*u,t[13]=(e+n)*h,t[14]=(s+o)*M,t[15]=1,t}function k(a,r,n,e){var o,s,u,M,i,c,p,f,x,b,l=r[0],v=r[1],m=r[2],P=e[0],O=e[1],E=e[2],S=n[0],y=n[1],I=n[2];return Math.abs(l-S)<t.EPSILON&&Math.abs(v-y)<t.EPSILON&&Math.abs(m-I)<t.EPSILON?h(a):(p=l-S,f=v-y,x=m-I,o=O*(x*=b=1/Math.hypot(p,f,x))-E*(f*=b),s=E*(p*=b)-P*x,u=P*f-O*p,(b=Math.hypot(o,s,u))?(o*=b=1/b,s*=b,u*=b):(o=0,s=0,u=0),M=f*u-x*s,i=x*o-p*u,c=p*s-f*o,(b=Math.hypot(M,i,c))?(M*=b=1/b,i*=b,c*=b):(M=0,i=0,c=0),a[0]=o,a[1]=M,a[2]=p,a[3]=0,a[4]=s,a[5]=i,a[6]=f,a[7]=0,a[8]=u,a[9]=c,a[10]=x,a[11]=0,a[12]=-(o*l+s*v+u*m),a[13]=-(M*l+i*v+c*m),a[14]=-(p*l+f*v+x*m),a[15]=1,a)}function F(t,a,r,n){var e=a[0],o=a[1],s=a[2],u=n[0],h=n[1],M=n[2],i=e-r[0],c=o-r[1],p=s-r[2],f=i*i+c*c+p*p;f>0&&(i*=f=1/Math.sqrt(f),c*=f,p*=f);var x=h*p-M*c,b=M*i-u*p,l=u*c-h*i;return(f=x*x+b*b+l*l)>0&&(x*=f=1/Math.sqrt(f),b*=f,l*=f),t[0]=x,t[1]=b,t[2]=l,t[3]=0,t[4]=c*l-p*b,t[5]=p*x-i*l,t[6]=i*b-c*x,t[7]=0,t[8]=i,t[9]=c,t[10]=p,t[11]=0,t[12]=e,t[13]=o,t[14]=s,t[15]=1,t}function Q(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function V(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function W(t,a,r){return t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t[3]=a[3]+r[3],t[4]=a[4]+r[4],t[5]=a[5]+r[5],t[6]=a[6]+r[6],t[7]=a[7]+r[7],t[8]=a[8]+r[8],t[9]=a[9]+r[9],t[10]=a[10]+r[10],t[11]=a[11]+r[11],t[12]=a[12]+r[12],t[13]=a[13]+r[13],t[14]=a[14]+r[14],t[15]=a[15]+r[15],t}function X(t,a,r){return t[0]=a[0]-r[0],t[1]=a[1]-r[1],t[2]=a[2]-r[2],t[3]=a[3]-r[3],t[4]=a[4]-r[4],t[5]=a[5]-r[5],t[6]=a[6]-r[6],t[7]=a[7]-r[7],t[8]=a[8]-r[8],t[9]=a[9]-r[9],t[10]=a[10]-r[10],t[11]=a[11]-r[11],t[12]=a[12]-r[12],t[13]=a[13]-r[13],t[14]=a[14]-r[14],t[15]=a[15]-r[15],t}function Z(t,a,r){return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t[3]=a[3]*r,t[4]=a[4]*r,t[5]=a[5]*r,t[6]=a[6]*r,t[7]=a[7]*r,t[8]=a[8]*r,t[9]=a[9]*r,t[10]=a[10]*r,t[11]=a[11]*r,t[12]=a[12]*r,t[13]=a[13]*r,t[14]=a[14]*r,t[15]=a[15]*r,t}function z(t,a,r,n){return t[0]=a[0]+r[0]*n,t[1]=a[1]+r[1]*n,t[2]=a[2]+r[2]*n,t[3]=a[3]+r[3]*n,t[4]=a[4]+r[4]*n,t[5]=a[5]+r[5]*n,t[6]=a[6]+r[6]*n,t[7]=a[7]+r[7]*n,t[8]=a[8]+r[8]*n,t[9]=a[9]+r[9]*n,t[10]=a[10]+r[10]*n,t[11]=a[11]+r[11]*n,t[12]=a[12]+r[12]*n,t[13]=a[13]+r[13]*n,t[14]=a[14]+r[14]*n,t[15]=a[15]+r[15]*n,t}function B(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]&&t[9]===a[9]&&t[10]===a[10]&&t[11]===a[11]&&t[12]===a[12]&&t[13]===a[13]&&t[14]===a[14]&&t[15]===a[15]}function C(a,r){var n=a[0],e=a[1],o=a[2],s=a[3],u=a[4],h=a[5],M=a[6],i=a[7],c=a[8],p=a[9],f=a[10],x=a[11],b=a[12],l=a[13],v=a[14],m=a[15],P=r[0],O=r[1],E=r[2],S=r[3],y=r[4],I=r[5],L=r[6],N=r[7],R=r[8],d=r[9],g=r[10],A=r[11],Y=r[12],T=r[13],w=r[14],_=r[15];return Math.abs(n-P)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(P))&&Math.abs(e-O)<=t.EPSILON*Math.max(1,Math.abs(e),Math.abs(O))&&Math.abs(o-E)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(E))&&Math.abs(s-S)<=t.EPSILON*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(u-y)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(h-I)<=t.EPSILON*Math.max(1,Math.abs(h),Math.abs(I))&&Math.abs(M-L)<=t.EPSILON*Math.max(1,Math.abs(M),Math.abs(L))&&Math.abs(i-N)<=t.EPSILON*Math.max(1,Math.abs(i),Math.abs(N))&&Math.abs(c-R)<=t.EPSILON*Math.max(1,Math.abs(c),Math.abs(R))&&Math.abs(p-d)<=t.EPSILON*Math.max(1,Math.abs(p),Math.abs(d))&&Math.abs(f-g)<=t.EPSILON*Math.max(1,Math.abs(f),Math.abs(g))&&Math.abs(x-A)<=t.EPSILON*Math.max(1,Math.abs(x),Math.abs(A))&&Math.abs(b-Y)<=t.EPSILON*Math.max(1,Math.abs(b),Math.abs(Y))&&Math.abs(l-T)<=t.EPSILON*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(v-w)<=t.EPSILON*Math.max(1,Math.abs(v),Math.abs(w))&&Math.abs(m-_)<=t.EPSILON*Math.max(1,Math.abs(m),Math.abs(_))}var G=f;exports.mul=G;var H=X;exports.sub=H;
},{"./common.js":"XJqx"}],"AWBd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.clone=o,exports.length=a,exports.fromValues=s,exports.copy=u,exports.set=i,exports.add=c,exports.subtract=p,exports.multiply=f,exports.divide=x,exports.ceil=h,exports.floor=M,exports.min=v,exports.max=l,exports.round=d,exports.scale=m,exports.scaleAndAdd=b,exports.distance=y,exports.squaredDistance=O,exports.squaredLength=P,exports.negate=q,exports.inverse=A,exports.normalize=g,exports.dot=E,exports.cross=R,exports.lerp=Y,exports.hermite=j,exports.bezier=_,exports.random=w,exports.transformMat4=D,exports.transformMat3=L,exports.transformQuat=N,exports.rotateX=I,exports.rotateY=T,exports.rotateZ=z,exports.angle=S,exports.zero=k,exports.str=W,exports.exactEquals=F,exports.equals=Q,exports.forEach=exports.sqrLen=exports.len=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=void 0;var t=e(require("./common.js"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function e(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,e&&e.set(t,n),n}function n(){var r=new t.ARRAY_TYPE(3);return t.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function o(r){var e=new t.ARRAY_TYPE(3);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e}function a(t){var r=t[0],e=t[1],n=t[2];return Math.hypot(r,e,n)}function s(r,e,n){var o=new t.ARRAY_TYPE(3);return o[0]=r,o[1]=e,o[2]=n,o}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}function i(t,r,e,n){return t[0]=r,t[1]=e,t[2]=n,t}function c(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t}function p(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t}function f(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t}function x(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t}function h(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}function M(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}function v(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t}function l(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t}function d(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t}function m(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t}function b(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t}function y(t,r){var e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2];return Math.hypot(e,n,o)}function O(t,r){var e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2];return e*e+n*n+o*o}function P(t){var r=t[0],e=t[1],n=t[2];return r*r+e*e+n*n}function q(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}function A(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}function g(t,r){var e=r[0],n=r[1],o=r[2],a=e*e+n*n+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=r[0]*a,t[1]=r[1]*a,t[2]=r[2]*a,t}function E(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}function R(t,r,e){var n=r[0],o=r[1],a=r[2],s=e[0],u=e[1],i=e[2];return t[0]=o*i-a*u,t[1]=a*s-n*i,t[2]=n*u-o*s,t}function Y(t,r,e,n){var o=r[0],a=r[1],s=r[2];return t[0]=o+n*(e[0]-o),t[1]=a+n*(e[1]-a),t[2]=s+n*(e[2]-s),t}function j(t,r,e,n,o,a){var s=a*a,u=s*(2*a-3)+1,i=s*(a-2)+a,c=s*(a-1),p=s*(3-2*a);return t[0]=r[0]*u+e[0]*i+n[0]*c+o[0]*p,t[1]=r[1]*u+e[1]*i+n[1]*c+o[1]*p,t[2]=r[2]*u+e[2]*i+n[2]*c+o[2]*p,t}function _(t,r,e,n,o,a){var s=1-a,u=s*s,i=a*a,c=u*s,p=3*a*u,f=3*i*s,x=i*a;return t[0]=r[0]*c+e[0]*p+n[0]*f+o[0]*x,t[1]=r[1]*c+e[1]*p+n[1]*f+o[1]*x,t[2]=r[2]*c+e[2]*p+n[2]*f+o[2]*x,t}function w(r,e){e=e||1;var n=2*t.RANDOM()*Math.PI,o=2*t.RANDOM()-1,a=Math.sqrt(1-o*o)*e;return r[0]=Math.cos(n)*a,r[1]=Math.sin(n)*a,r[2]=o*e,r}function D(t,r,e){var n=r[0],o=r[1],a=r[2],s=e[3]*n+e[7]*o+e[11]*a+e[15];return s=s||1,t[0]=(e[0]*n+e[4]*o+e[8]*a+e[12])/s,t[1]=(e[1]*n+e[5]*o+e[9]*a+e[13])/s,t[2]=(e[2]*n+e[6]*o+e[10]*a+e[14])/s,t}function L(t,r,e){var n=r[0],o=r[1],a=r[2];return t[0]=n*e[0]+o*e[3]+a*e[6],t[1]=n*e[1]+o*e[4]+a*e[7],t[2]=n*e[2]+o*e[5]+a*e[8],t}function N(t,r,e){var n=e[0],o=e[1],a=e[2],s=e[3],u=r[0],i=r[1],c=r[2],p=o*c-a*i,f=a*u-n*c,x=n*i-o*u,h=o*x-a*f,M=a*p-n*x,v=n*f-o*p,l=2*s;return p*=l,f*=l,x*=l,h*=2,M*=2,v*=2,t[0]=u+p+h,t[1]=i+f+M,t[2]=c+x+v,t}function I(t,r,e,n){var o=[],a=[];return o[0]=r[0]-e[0],o[1]=r[1]-e[1],o[2]=r[2]-e[2],a[0]=o[0],a[1]=o[1]*Math.cos(n)-o[2]*Math.sin(n),a[2]=o[1]*Math.sin(n)+o[2]*Math.cos(n),t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t}function T(t,r,e,n){var o=[],a=[];return o[0]=r[0]-e[0],o[1]=r[1]-e[1],o[2]=r[2]-e[2],a[0]=o[2]*Math.sin(n)+o[0]*Math.cos(n),a[1]=o[1],a[2]=o[2]*Math.cos(n)-o[0]*Math.sin(n),t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t}function z(t,r,e,n){var o=[],a=[];return o[0]=r[0]-e[0],o[1]=r[1]-e[1],o[2]=r[2]-e[2],a[0]=o[0]*Math.cos(n)-o[1]*Math.sin(n),a[1]=o[0]*Math.sin(n)+o[1]*Math.cos(n),a[2]=o[2],t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t}function S(t,r){var e=t[0],n=t[1],o=t[2],a=r[0],s=r[1],u=r[2],i=Math.sqrt(e*e+n*n+o*o)*Math.sqrt(a*a+s*s+u*u),c=i&&E(t,r)/i;return Math.acos(Math.min(Math.max(c,-1),1))}function k(t){return t[0]=0,t[1]=0,t[2]=0,t}function W(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function F(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}function Q(r,e){var n=r[0],o=r[1],a=r[2],s=e[0],u=e[1],i=e[2];return Math.abs(n-s)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-u)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(a-i)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(i))}var V=p;exports.sub=V;var X=f;exports.mul=X;var Z=x;exports.div=Z;var B=y;exports.dist=B;var C=O;exports.sqrDist=C;var G=a;exports.len=G;var H=P;exports.sqrLen=H;var J=function(){var t=n();return function(r,e,n,o,a,s){var u,i;for(e||(e=3),n||(n=0),i=o?Math.min(o*e+n,r.length):r.length,u=n;u<i;u+=e)t[0]=r[u],t[1]=r[u+1],t[2]=r[u+2],a(t,t,s),r[u]=t[0],r[u+1]=t[1],r[u+2]=t[2];return r}}();exports.forEach=J;
},{"./common.js":"XJqx"}],"zWbG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.clone=o,exports.fromValues=a,exports.copy=u,exports.set=s,exports.add=i,exports.subtract=c,exports.multiply=p,exports.divide=f,exports.ceil=x,exports.floor=h,exports.min=M,exports.max=l,exports.round=v,exports.scale=d,exports.scaleAndAdd=m,exports.distance=b,exports.squaredDistance=O,exports.length=y,exports.squaredLength=A,exports.negate=P,exports.inverse=R,exports.normalize=q,exports.dot=E,exports.cross=g,exports.lerp=w,exports.random=D,exports.transformMat4=j,exports.transformQuat=N,exports.zero=Y,exports.str=_,exports.exactEquals=L,exports.equals=I,exports.forEach=exports.sqrLen=exports.len=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=void 0;var t=e(require("./common.js"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function e(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var u=o?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=t[a]}return n.default=t,e&&e.set(t,n),n}function n(){var r=new t.ARRAY_TYPE(4);return t.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[3]=0),r}function o(r){var e=new t.ARRAY_TYPE(4);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e}function a(r,e,n,o){var a=new t.ARRAY_TYPE(4);return a[0]=r,a[1]=e,a[2]=n,a[3]=o,a}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}function s(t,r,e,n,o){return t[0]=r,t[1]=e,t[2]=n,t[3]=o,t}function i(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t}function c(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t}function p(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t[3]=r[3]*e[3],t}function f(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t[3]=r[3]/e[3],t}function x(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t[3]=Math.ceil(r[3]),t}function h(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t[3]=Math.floor(r[3]),t}function M(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t[3]=Math.min(r[3],e[3]),t}function l(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t[3]=Math.max(r[3],e[3]),t}function v(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t[3]=Math.round(r[3]),t}function d(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t}function m(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t}function b(t,r){var e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2],a=r[3]-t[3];return Math.hypot(e,n,o,a)}function O(t,r){var e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2],a=r[3]-t[3];return e*e+n*n+o*o+a*a}function y(t){var r=t[0],e=t[1],n=t[2],o=t[3];return Math.hypot(r,e,n,o)}function A(t){var r=t[0],e=t[1],n=t[2],o=t[3];return r*r+e*e+n*n+o*o}function P(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t}function R(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t}function q(t,r){var e=r[0],n=r[1],o=r[2],a=r[3],u=e*e+n*n+o*o+a*a;return u>0&&(u=1/Math.sqrt(u)),t[0]=e*u,t[1]=n*u,t[2]=o*u,t[3]=a*u,t}function E(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]}function g(t,r,e,n){var o=e[0]*n[1]-e[1]*n[0],a=e[0]*n[2]-e[2]*n[0],u=e[0]*n[3]-e[3]*n[0],s=e[1]*n[2]-e[2]*n[1],i=e[1]*n[3]-e[3]*n[1],c=e[2]*n[3]-e[3]*n[2],p=r[0],f=r[1],x=r[2],h=r[3];return t[0]=f*c-x*i+h*s,t[1]=-p*c+x*u-h*a,t[2]=p*i-f*u+h*o,t[3]=-p*s+f*a-x*o,t}function w(t,r,e,n){var o=r[0],a=r[1],u=r[2],s=r[3];return t[0]=o+n*(e[0]-o),t[1]=a+n*(e[1]-a),t[2]=u+n*(e[2]-u),t[3]=s+n*(e[3]-s),t}function D(r,e){var n,o,a,u,s,i;e=e||1;do{s=(n=2*t.RANDOM()-1)*n+(o=2*t.RANDOM()-1)*o}while(s>=1);do{i=(a=2*t.RANDOM()-1)*a+(u=2*t.RANDOM()-1)*u}while(i>=1);var c=Math.sqrt((1-s)/i);return r[0]=e*n,r[1]=e*o,r[2]=e*a*c,r[3]=e*u*c,r}function j(t,r,e){var n=r[0],o=r[1],a=r[2],u=r[3];return t[0]=e[0]*n+e[4]*o+e[8]*a+e[12]*u,t[1]=e[1]*n+e[5]*o+e[9]*a+e[13]*u,t[2]=e[2]*n+e[6]*o+e[10]*a+e[14]*u,t[3]=e[3]*n+e[7]*o+e[11]*a+e[15]*u,t}function N(t,r,e){var n=r[0],o=r[1],a=r[2],u=e[0],s=e[1],i=e[2],c=e[3],p=c*n+s*a-i*o,f=c*o+i*n-u*a,x=c*a+u*o-s*n,h=-u*n-s*o-i*a;return t[0]=p*c+h*-u+f*-i-x*-s,t[1]=f*c+h*-s+x*-u-p*-i,t[2]=x*c+h*-i+p*-s-f*-u,t[3]=r[3],t}function Y(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function _(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function L(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]}function I(r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=e[0],i=e[1],c=e[2],p=e[3];return Math.abs(n-s)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-i)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(i))&&Math.abs(a-c)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(u-p)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(p))}var S=c;exports.sub=S;var T=p;exports.mul=T;var k=f;exports.div=k;var z=b;exports.dist=z;var W=O;exports.sqrDist=W;var F=y;exports.len=F;var Q=A;exports.sqrLen=Q;var V=function(){var t=n();return function(r,e,n,o,a,u){var s,i;for(e||(e=4),n||(n=0),i=o?Math.min(o*e+n,r.length):r.length,s=n;s<i;s+=e)t[0]=r[s],t[1]=r[s+1],t[2]=r[s+2],t[3]=r[s+3],a(t,t,u),r[s]=t[0],r[s+1]=t[1],r[s+2]=t[2],r[s+3]=t[3];return r}}();exports.forEach=V;
},{"./common.js":"XJqx"}],"KdRW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=s,exports.identity=u,exports.setAxisAngle=p,exports.getAxisAngle=c,exports.getAngle=i,exports.multiply=x,exports.rotateX=l,exports.rotateY=f,exports.rotateZ=v,exports.calculateW=h,exports.exp=M,exports.ln=q,exports.pow=d,exports.slerp=m,exports.random=g,exports.invert=y,exports.conjugate=P,exports.fromMat3=A,exports.fromEuler=O,exports.str=j,exports.setAxes=exports.sqlerp=exports.rotationTo=exports.equals=exports.exactEquals=exports.normalize=exports.sqrLen=exports.squaredLength=exports.len=exports.length=exports.lerp=exports.dot=exports.scale=exports.mul=exports.add=exports.set=exports.copy=exports.fromValues=exports.clone=void 0;var t=n(require("./common.js")),r=n(require("./mat3.js")),e=n(require("./vec3.js")),o=n(require("./vec4.js"));function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=a();if(r&&r.has(t))return r.get(t);var e={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var s=o?Object.getOwnPropertyDescriptor(t,n):null;s&&(s.get||s.set)?Object.defineProperty(e,n,s):e[n]=t[n]}return e.default=t,r&&r.set(t,e),e}function s(){var r=new t.ARRAY_TYPE(4);return t.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r[3]=1,r}function u(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function p(t,r,e){e*=.5;var o=Math.sin(e);return t[0]=o*r[0],t[1]=o*r[1],t[2]=o*r[2],t[3]=Math.cos(e),t}function c(r,e){var o=2*Math.acos(e[3]),a=Math.sin(o/2);return a>t.EPSILON?(r[0]=e[0]/a,r[1]=e[1]/a,r[2]=e[2]/a):(r[0]=1,r[1]=0,r[2]=0),o}function i(t,r){var e=D(t,r);return Math.acos(2*e*e-1)}function x(t,r,e){var o=r[0],a=r[1],n=r[2],s=r[3],u=e[0],p=e[1],c=e[2],i=e[3];return t[0]=o*i+s*u+a*c-n*p,t[1]=a*i+s*p+n*u-o*c,t[2]=n*i+s*c+o*p-a*u,t[3]=s*i-o*u-a*p-n*c,t}function l(t,r,e){e*=.5;var o=r[0],a=r[1],n=r[2],s=r[3],u=Math.sin(e),p=Math.cos(e);return t[0]=o*p+s*u,t[1]=a*p+n*u,t[2]=n*p-a*u,t[3]=s*p-o*u,t}function f(t,r,e){e*=.5;var o=r[0],a=r[1],n=r[2],s=r[3],u=Math.sin(e),p=Math.cos(e);return t[0]=o*p-n*u,t[1]=a*p+s*u,t[2]=n*p+o*u,t[3]=s*p-a*u,t}function v(t,r,e){e*=.5;var o=r[0],a=r[1],n=r[2],s=r[3],u=Math.sin(e),p=Math.cos(e);return t[0]=o*p+a*u,t[1]=a*p-o*u,t[2]=n*p+s*u,t[3]=s*p-n*u,t}function h(t,r){var e=r[0],o=r[1],a=r[2];return t[0]=e,t[1]=o,t[2]=a,t[3]=Math.sqrt(Math.abs(1-e*e-o*o-a*a)),t}function M(t,r){var e=r[0],o=r[1],a=r[2],n=r[3],s=Math.sqrt(e*e+o*o+a*a),u=Math.exp(n),p=s>0?u*Math.sin(s)/s:0;return t[0]=e*p,t[1]=o*p,t[2]=a*p,t[3]=u*Math.cos(s),t}function q(t,r){var e=r[0],o=r[1],a=r[2],n=r[3],s=Math.sqrt(e*e+o*o+a*a),u=s>0?Math.atan2(s,n)/s:0;return t[0]=e*u,t[1]=o*u,t[2]=a*u,t[3]=.5*Math.log(e*e+o*o+a*a+n*n),t}function d(t,r,e){return q(t,r),_(t,t,e),M(t,t),t}function m(r,e,o,a){var n,s,u,p,c,i=e[0],x=e[1],l=e[2],f=e[3],v=o[0],h=o[1],M=o[2],q=o[3];return(s=i*v+x*h+l*M+f*q)<0&&(s=-s,v=-v,h=-h,M=-M,q=-q),1-s>t.EPSILON?(n=Math.acos(s),u=Math.sin(n),p=Math.sin((1-a)*n)/u,c=Math.sin(a*n)/u):(p=1-a,c=a),r[0]=p*i+c*v,r[1]=p*x+c*h,r[2]=p*l+c*M,r[3]=p*f+c*q,r}function g(r){var e=t.RANDOM(),o=t.RANDOM(),a=t.RANDOM(),n=Math.sqrt(1-e),s=Math.sqrt(e);return r[0]=n*Math.sin(2*Math.PI*o),r[1]=n*Math.cos(2*Math.PI*o),r[2]=s*Math.sin(2*Math.PI*a),r[3]=s*Math.cos(2*Math.PI*a),r}function y(t,r){var e=r[0],o=r[1],a=r[2],n=r[3],s=e*e+o*o+a*a+n*n,u=s?1/s:0;return t[0]=-e*u,t[1]=-o*u,t[2]=-a*u,t[3]=n*u,t}function P(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t}function A(t,r){var e,o=r[0]+r[4]+r[8];if(o>0)e=Math.sqrt(o+1),t[3]=.5*e,e=.5/e,t[0]=(r[5]-r[7])*e,t[1]=(r[6]-r[2])*e,t[2]=(r[1]-r[3])*e;else{var a=0;r[4]>r[0]&&(a=1),r[8]>r[3*a+a]&&(a=2);var n=(a+1)%3,s=(a+2)%3;e=Math.sqrt(r[3*a+a]-r[3*n+n]-r[3*s+s]+1),t[a]=.5*e,e=.5/e,t[3]=(r[3*n+s]-r[3*s+n])*e,t[n]=(r[3*n+a]+r[3*a+n])*e,t[s]=(r[3*s+a]+r[3*a+s])*e}return t}function O(t,r,e,o){var a=.5*Math.PI/180;r*=a,e*=a,o*=a;var n=Math.sin(r),s=Math.cos(r),u=Math.sin(e),p=Math.cos(e),c=Math.sin(o),i=Math.cos(o);return t[0]=n*p*i-s*u*c,t[1]=s*u*i+n*p*c,t[2]=s*p*c-n*u*i,t[3]=s*p*i+n*u*c,t}function j(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var b=o.clone;exports.clone=b;var E=o.fromValues;exports.fromValues=E;var I=o.copy;exports.copy=I;var L=o.set;exports.set=L;var R=o.add;exports.add=R;var w=x;exports.mul=w;var _=o.scale;exports.scale=_;var D=o.dot;exports.dot=D;var N=o.lerp;exports.lerp=N;var V=o.length;exports.length=V;var Y=V;exports.len=Y;var z=o.squaredLength;exports.squaredLength=z;var T=z;exports.sqrLen=T;var W=o.normalize;exports.normalize=W;var k=o.exactEquals;exports.exactEquals=k;var S=o.equals;exports.equals=S;var F=function(){var t=e.create(),r=e.fromValues(1,0,0),o=e.fromValues(0,1,0);return function(a,n,s){var u=e.dot(n,s);return u<-.999999?(e.cross(t,r,n),e.len(t)<1e-6&&e.cross(t,o,n),e.normalize(t,t),p(a,t,Math.PI),a):u>.999999?(a[0]=0,a[1]=0,a[2]=0,a[3]=1,a):(e.cross(t,n,s),a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=1+u,W(a,a))}}();exports.rotationTo=F;var X=function(){var t=s(),r=s();return function(e,o,a,n,s,u){return m(t,o,s,u),m(r,a,n,u),m(e,t,r,2*u*(1-u)),e}}();exports.sqlerp=X;var Z=function(){var t=r.create();return function(r,e,o,a){return t[0]=o[0],t[3]=o[1],t[6]=o[2],t[1]=a[0],t[4]=a[1],t[7]=a[2],t[2]=-e[0],t[5]=-e[1],t[8]=-e[2],W(r,A(r,t))}}();exports.setAxes=Z;
},{"./common.js":"XJqx","./mat3.js":"vtQf","./vec3.js":"AWBd","./vec4.js":"zWbG"}],"buGF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=o,exports.clone=s,exports.fromValues=u,exports.fromRotationTranslationValues=p,exports.fromRotationTranslation=i,exports.fromTranslation=c,exports.fromRotation=f,exports.fromMat4=x,exports.copy=h,exports.identity=l,exports.set=M,exports.getDual=b,exports.setDual=m,exports.getTranslation=d,exports.translate=R,exports.rotateX=y,exports.rotateY=O,exports.rotateZ=g,exports.rotateByQuatAppend=A,exports.rotateByQuatPrepend=E,exports.rotateAroundAxis=L,exports.add=Y,exports.multiply=q,exports.scale=T,exports.lerp=w,exports.invert=I,exports.conjugate=N,exports.normalize=Q,exports.str=V,exports.exactEquals=W,exports.equals=X,exports.sqrLen=exports.squaredLength=exports.len=exports.length=exports.dot=exports.mul=exports.setReal=exports.getReal=void 0;var t=n(require("./common.js")),r=n(require("./quat.js")),e=n(require("./mat4.js"));function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=a();if(r&&r.has(t))return r.get(t);var e={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=n?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(e,o,s):e[o]=t[o]}return e.default=t,r&&r.set(t,e),e}function o(){var r=new t.ARRAY_TYPE(8);return t.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[4]=0,r[5]=0,r[6]=0,r[7]=0),r[3]=1,r}function s(r){var e=new t.ARRAY_TYPE(8);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e}function u(r,e,a,n,o,s,u,p){var i=new t.ARRAY_TYPE(8);return i[0]=r,i[1]=e,i[2]=a,i[3]=n,i[4]=o,i[5]=s,i[6]=u,i[7]=p,i}function p(r,e,a,n,o,s,u){var p=new t.ARRAY_TYPE(8);p[0]=r,p[1]=e,p[2]=a,p[3]=n;var i=.5*o,c=.5*s,f=.5*u;return p[4]=i*n+c*a-f*e,p[5]=c*n+f*r-i*a,p[6]=f*n+i*e-c*r,p[7]=-i*r-c*e-f*a,p}function i(t,r,e){var a=.5*e[0],n=.5*e[1],o=.5*e[2],s=r[0],u=r[1],p=r[2],i=r[3];return t[0]=s,t[1]=u,t[2]=p,t[3]=i,t[4]=a*i+n*p-o*u,t[5]=n*i+o*s-a*p,t[6]=o*i+a*u-n*s,t[7]=-a*s-n*u-o*p,t}function c(t,r){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*r[0],t[5]=.5*r[1],t[6]=.5*r[2],t[7]=0,t}function f(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function x(a,n){var o=r.create();e.getRotation(o,n);var s=new t.ARRAY_TYPE(3);return e.getTranslation(s,n),i(a,o,s),a}function h(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t}function l(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function M(t,r,e,a,n,o,s,u,p){return t[0]=r,t[1]=e,t[2]=a,t[3]=n,t[4]=o,t[5]=s,t[6]=u,t[7]=p,t}var v=r.copy;function b(t,r){return t[0]=r[4],t[1]=r[5],t[2]=r[6],t[3]=r[7],t}exports.getReal=v;var P=r.copy;function m(t,r){return t[4]=r[0],t[5]=r[1],t[6]=r[2],t[7]=r[3],t}function d(t,r){var e=r[4],a=r[5],n=r[6],o=r[7],s=-r[0],u=-r[1],p=-r[2],i=r[3];return t[0]=2*(e*i+o*s+a*p-n*u),t[1]=2*(a*i+o*u+n*s-e*p),t[2]=2*(n*i+o*p+e*u-a*s),t}function R(t,r,e){var a=r[0],n=r[1],o=r[2],s=r[3],u=.5*e[0],p=.5*e[1],i=.5*e[2],c=r[4],f=r[5],x=r[6],h=r[7];return t[0]=a,t[1]=n,t[2]=o,t[3]=s,t[4]=s*u+n*i-o*p+c,t[5]=s*p+o*u-a*i+f,t[6]=s*i+a*p-n*u+x,t[7]=-a*u-n*p-o*i+h,t}function y(t,e,a){var n=-e[0],o=-e[1],s=-e[2],u=e[3],p=e[4],i=e[5],c=e[6],f=e[7],x=p*u+f*n+i*s-c*o,h=i*u+f*o+c*n-p*s,l=c*u+f*s+p*o-i*n,M=f*u-p*n-i*o-c*s;return r.rotateX(t,e,a),n=t[0],o=t[1],s=t[2],u=t[3],t[4]=x*u+M*n+h*s-l*o,t[5]=h*u+M*o+l*n-x*s,t[6]=l*u+M*s+x*o-h*n,t[7]=M*u-x*n-h*o-l*s,t}function O(t,e,a){var n=-e[0],o=-e[1],s=-e[2],u=e[3],p=e[4],i=e[5],c=e[6],f=e[7],x=p*u+f*n+i*s-c*o,h=i*u+f*o+c*n-p*s,l=c*u+f*s+p*o-i*n,M=f*u-p*n-i*o-c*s;return r.rotateY(t,e,a),n=t[0],o=t[1],s=t[2],u=t[3],t[4]=x*u+M*n+h*s-l*o,t[5]=h*u+M*o+l*n-x*s,t[6]=l*u+M*s+x*o-h*n,t[7]=M*u-x*n-h*o-l*s,t}function g(t,e,a){var n=-e[0],o=-e[1],s=-e[2],u=e[3],p=e[4],i=e[5],c=e[6],f=e[7],x=p*u+f*n+i*s-c*o,h=i*u+f*o+c*n-p*s,l=c*u+f*s+p*o-i*n,M=f*u-p*n-i*o-c*s;return r.rotateZ(t,e,a),n=t[0],o=t[1],s=t[2],u=t[3],t[4]=x*u+M*n+h*s-l*o,t[5]=h*u+M*o+l*n-x*s,t[6]=l*u+M*s+x*o-h*n,t[7]=M*u-x*n-h*o-l*s,t}function A(t,r,e){var a=e[0],n=e[1],o=e[2],s=e[3],u=r[0],p=r[1],i=r[2],c=r[3];return t[0]=u*s+c*a+p*o-i*n,t[1]=p*s+c*n+i*a-u*o,t[2]=i*s+c*o+u*n-p*a,t[3]=c*s-u*a-p*n-i*o,u=r[4],p=r[5],i=r[6],c=r[7],t[4]=u*s+c*a+p*o-i*n,t[5]=p*s+c*n+i*a-u*o,t[6]=i*s+c*o+u*n-p*a,t[7]=c*s-u*a-p*n-i*o,t}function E(t,r,e){var a=r[0],n=r[1],o=r[2],s=r[3],u=e[0],p=e[1],i=e[2],c=e[3];return t[0]=a*c+s*u+n*i-o*p,t[1]=n*c+s*p+o*u-a*i,t[2]=o*c+s*i+a*p-n*u,t[3]=s*c-a*u-n*p-o*i,u=e[4],p=e[5],i=e[6],c=e[7],t[4]=a*c+s*u+n*i-o*p,t[5]=n*c+s*p+o*u-a*i,t[6]=o*c+s*i+a*p-n*u,t[7]=s*c-a*u-n*p-o*i,t}function L(r,e,a,n){if(Math.abs(n)<t.EPSILON)return h(r,e);var o=Math.hypot(a[0],a[1],a[2]);n*=.5;var s=Math.sin(n),u=s*a[0]/o,p=s*a[1]/o,i=s*a[2]/o,c=Math.cos(n),f=e[0],x=e[1],l=e[2],M=e[3];r[0]=f*c+M*u+x*i-l*p,r[1]=x*c+M*p+l*u-f*i,r[2]=l*c+M*i+f*p-x*u,r[3]=M*c-f*u-x*p-l*i;var v=e[4],b=e[5],P=e[6],m=e[7];return r[4]=v*c+m*u+b*i-P*p,r[5]=b*c+m*p+P*u-v*i,r[6]=P*c+m*i+v*p-b*u,r[7]=m*c-v*u-b*p-P*i,r}function Y(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t[4]=r[4]+e[4],t[5]=r[5]+e[5],t[6]=r[6]+e[6],t[7]=r[7]+e[7],t}function q(t,r,e){var a=r[0],n=r[1],o=r[2],s=r[3],u=e[4],p=e[5],i=e[6],c=e[7],f=r[4],x=r[5],h=r[6],l=r[7],M=e[0],v=e[1],b=e[2],P=e[3];return t[0]=a*P+s*M+n*b-o*v,t[1]=n*P+s*v+o*M-a*b,t[2]=o*P+s*b+a*v-n*M,t[3]=s*P-a*M-n*v-o*b,t[4]=a*c+s*u+n*i-o*p+f*P+l*M+x*b-h*v,t[5]=n*c+s*p+o*u-a*i+x*P+l*v+h*M-f*b,t[6]=o*c+s*i+a*p-n*u+h*P+l*b+f*v-x*M,t[7]=s*c-a*u-n*p-o*i+l*P-f*M-x*v-h*b,t}exports.setReal=P;var j=q;function T(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*e,t[5]=r[5]*e,t[6]=r[6]*e,t[7]=r[7]*e,t}exports.mul=j;var _=r.dot;function w(t,r,e,a){var n=1-a;return _(r,e)<0&&(a=-a),t[0]=r[0]*n+e[0]*a,t[1]=r[1]*n+e[1]*a,t[2]=r[2]*n+e[2]*a,t[3]=r[3]*n+e[3]*a,t[4]=r[4]*n+e[4]*a,t[5]=r[5]*n+e[5]*a,t[6]=r[6]*n+e[6]*a,t[7]=r[7]*n+e[7]*a,t}function I(t,r){var e=k(r);return t[0]=-r[0]/e,t[1]=-r[1]/e,t[2]=-r[2]/e,t[3]=r[3]/e,t[4]=-r[4]/e,t[5]=-r[5]/e,t[6]=-r[6]/e,t[7]=r[7]/e,t}function N(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t[4]=-r[4],t[5]=-r[5],t[6]=-r[6],t[7]=r[7],t}exports.dot=_;var S=r.length;exports.length=S;var D=S;exports.len=D;var k=r.squaredLength;exports.squaredLength=k;var B=k;function Q(t,r){var e=k(r);if(e>0){e=Math.sqrt(e);var a=r[0]/e,n=r[1]/e,o=r[2]/e,s=r[3]/e,u=r[4],p=r[5],i=r[6],c=r[7],f=a*u+n*p+o*i+s*c;t[0]=a,t[1]=n,t[2]=o,t[3]=s,t[4]=(u-a*f)/e,t[5]=(p-n*f)/e,t[6]=(i-o*f)/e,t[7]=(c-s*f)/e}return t}function V(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function W(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]}function X(r,e){var a=r[0],n=r[1],o=r[2],s=r[3],u=r[4],p=r[5],i=r[6],c=r[7],f=e[0],x=e[1],h=e[2],l=e[3],M=e[4],v=e[5],b=e[6],P=e[7];return Math.abs(a-f)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(n-x)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(x))&&Math.abs(o-h)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(s-l)<=t.EPSILON*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(u-M)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(p-v)<=t.EPSILON*Math.max(1,Math.abs(p),Math.abs(v))&&Math.abs(i-b)<=t.EPSILON*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(c-P)<=t.EPSILON*Math.max(1,Math.abs(c),Math.abs(P))}exports.sqrLen=B;
},{"./common.js":"XJqx","./quat.js":"KdRW","./mat4.js":"w3aR"}],"XSo1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.clone=o,exports.fromValues=a,exports.copy=u,exports.set=s,exports.add=i,exports.subtract=c,exports.multiply=p,exports.divide=f,exports.ceil=x,exports.floor=h,exports.min=v,exports.max=M,exports.round=l,exports.scale=d,exports.scaleAndAdd=m,exports.distance=b,exports.squaredDistance=y,exports.length=P,exports.squaredLength=q,exports.negate=A,exports.inverse=O,exports.normalize=g,exports.dot=E,exports.cross=R,exports.lerp=j,exports.random=Y,exports.transformMat2=_,exports.transformMat2d=w,exports.transformMat3=D,exports.transformMat4=L,exports.rotate=T,exports.angle=I,exports.zero=N,exports.str=k,exports.exactEquals=z,exports.equals=S,exports.forEach=exports.sqrLen=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=exports.len=void 0;var t=e(require("./common.js"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function e(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var u=o?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=t[a]}return n.default=t,e&&e.set(t,n),n}function n(){var r=new t.ARRAY_TYPE(2);return t.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0),r}function o(r){var e=new t.ARRAY_TYPE(2);return e[0]=r[0],e[1]=r[1],e}function a(r,e){var n=new t.ARRAY_TYPE(2);return n[0]=r,n[1]=e,n}function u(t,r){return t[0]=r[0],t[1]=r[1],t}function s(t,r,e){return t[0]=r,t[1]=e,t}function i(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t}function c(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t}function p(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t}function f(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t}function x(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t}function h(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t}function v(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t}function M(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t}function l(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t}function d(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t}function m(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t}function b(t,r){var e=r[0]-t[0],n=r[1]-t[1];return Math.hypot(e,n)}function y(t,r){var e=r[0]-t[0],n=r[1]-t[1];return e*e+n*n}function P(t){var r=t[0],e=t[1];return Math.hypot(r,e)}function q(t){var r=t[0],e=t[1];return r*r+e*e}function A(t,r){return t[0]=-r[0],t[1]=-r[1],t}function O(t,r){return t[0]=1/r[0],t[1]=1/r[1],t}function g(t,r){var e=r[0],n=r[1],o=e*e+n*n;return o>0&&(o=1/Math.sqrt(o)),t[0]=r[0]*o,t[1]=r[1]*o,t}function E(t,r){return t[0]*r[0]+t[1]*r[1]}function R(t,r,e){var n=r[0]*e[1]-r[1]*e[0];return t[0]=t[1]=0,t[2]=n,t}function j(t,r,e,n){var o=r[0],a=r[1];return t[0]=o+n*(e[0]-o),t[1]=a+n*(e[1]-a),t}function Y(r,e){e=e||1;var n=2*t.RANDOM()*Math.PI;return r[0]=Math.cos(n)*e,r[1]=Math.sin(n)*e,r}function _(t,r,e){var n=r[0],o=r[1];return t[0]=e[0]*n+e[2]*o,t[1]=e[1]*n+e[3]*o,t}function w(t,r,e){var n=r[0],o=r[1];return t[0]=e[0]*n+e[2]*o+e[4],t[1]=e[1]*n+e[3]*o+e[5],t}function D(t,r,e){var n=r[0],o=r[1];return t[0]=e[0]*n+e[3]*o+e[6],t[1]=e[1]*n+e[4]*o+e[7],t}function L(t,r,e){var n=r[0],o=r[1];return t[0]=e[0]*n+e[4]*o+e[12],t[1]=e[1]*n+e[5]*o+e[13],t}function T(t,r,e,n){var o=r[0]-e[0],a=r[1]-e[1],u=Math.sin(n),s=Math.cos(n);return t[0]=o*s-a*u+e[0],t[1]=o*u+a*s+e[1],t}function I(t,r){var e=t[0],n=t[1],o=r[0],a=r[1],u=Math.sqrt(e*e+n*n)*Math.sqrt(o*o+a*a),s=u&&(e*o+n*a)/u;return Math.acos(Math.min(Math.max(s,-1),1))}function N(t){return t[0]=0,t[1]=0,t}function k(t){return"vec2("+t[0]+", "+t[1]+")"}function z(t,r){return t[0]===r[0]&&t[1]===r[1]}function S(r,e){var n=r[0],o=r[1],a=e[0],u=e[1];return Math.abs(n-a)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(o-u)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))}var W=P;exports.len=W;var F=c;exports.sub=F;var V=p;exports.mul=V;var B=f;exports.div=B;var C=b;exports.dist=C;var G=y;exports.sqrDist=G;var H=q;exports.sqrLen=H;var J=function(){var t=n();return function(r,e,n,o,a,u){var s,i;for(e||(e=2),n||(n=0),i=o?Math.min(o*e+n,r.length):r.length,s=n;s<i;s+=e)t[0]=r[s],t[1]=r[s+1],a(t,t,u),r[s]=t[0],r[s+1]=t[1];return r}}();exports.forEach=J;
},{"./common.js":"XJqx"}],"IF0X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vec4=exports.vec3=exports.vec2=exports.quat2=exports.quat=exports.mat4=exports.mat3=exports.mat2d=exports.mat2=exports.glMatrix=void 0;var e=v(require("./common.js"));exports.glMatrix=e;var r=v(require("./mat2.js"));exports.mat2=r;var t=v(require("./mat2d.js"));exports.mat2d=t;var o=v(require("./mat3.js"));exports.mat3=o;var a=v(require("./mat4.js"));exports.mat4=a;var s=v(require("./quat.js"));exports.quat=s;var u=v(require("./quat2.js"));exports.quat2=u;var p=v(require("./vec2.js"));exports.vec2=p;var i=v(require("./vec3.js"));exports.vec3=i;var n=v(require("./vec4.js"));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function v(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c();if(r&&r.has(e))return r.get(e);var t={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(t,a,s):t[a]=e[a]}return t.default=e,r&&r.set(e,t),t}exports.vec4=n;
},{"./common.js":"XJqx","./mat2.js":"eN7R","./mat2d.js":"M21d","./mat3.js":"vtQf","./mat4.js":"w3aR","./quat.js":"KdRW","./quat2.js":"buGF","./vec2.js":"XSo1","./vec3.js":"AWBd","./vec4.js":"zWbG"}],"e1yJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addExtensionsToContext=Vu,exports.bindFramebufferInfo=Bu,exports.bindTransformFeedbackInfo=Rs,exports.bindUniformBlock=Vs,exports.canFilter=No,exports.canGenerateMipmap=Wo,exports.createAttribsFromArrays=at,exports.createAttributeSetters=Ys,exports.createBufferFromArray=pt,exports.createBufferFromTypedArray=Qe,exports.createBufferInfoFromArrays=mt,exports.createBuffersFromArrays=dt,exports.createFramebufferInfo=_u,exports.createProgram=Ss,exports.createProgramFromScripts=Is,exports.createProgramFromSources=ks,exports.createProgramInfo=Qs,exports.createProgramInfoFromProgram=Hs,exports.createSampler=oi,exports.createSamplers=ii,exports.createTexture=Ei,exports.createTextures=_i,exports.createTransformFeedback=Us,exports.createTransformFeedbackInfo=Ms,exports.createUniformBlockInfo=js,exports.createUniformBlockInfoFromProgram=Ds,exports.createUniformBlockSpecFromProgram=Os,exports.createUniformSetters=Cs,exports.createVAOAndSetAttributes=Cu,exports.createVAOFromBufferInfo=Mu,exports.createVertexArrayInfo=zu,exports.drawBufferInfo=eu,exports.drawObjectList=tu,exports.getArray_=et,exports.getBytesPerElementForInternalFormat=jo,exports.getContext=Xu,exports.getFormatAndTypeForInternalFormat=Vo,exports.getGLTypeForTypedArray=Fe,exports.getGLTypeForTypedArrayType=ve,exports.getNumComponentsForFormat=Xo,exports.getNumComponents_=ot,exports.getTypedArrayTypeForGLType=we,exports.getWebGLContext=Wu,exports.isWebGL1=Fr,exports.isWebGL2=Ar,exports.loadTextureFromUrl=gi,exports.resizeCanvasToDisplaySize=Yu,exports.resizeFramebufferInfo=Su,exports.resizeTexture=Ti,exports.setAttribInfoBufferFromArray=st,exports.setAttributeDefaults_=qe,exports.setAttributePrefix=$e,exports.setAttributes=$s,exports.setBlockUniforms=Ws,exports.setBuffersAndAttributes=qs,exports.setDefaultTextureColor=qo,exports.setDefaults=Ou,exports.setEmptyTexture=wi,exports.setSamplerParameters=ni,exports.setTextureDefaults_=Ho,exports.setTextureFilteringForSize=si,exports.setTextureFromArray=vi,exports.setTextureFromElement=li,exports.setTextureParameters=ri,exports.setUniformBlock=Gs,exports.setUniforms=Ns,exports.vertexArrays=exports.v3=exports.utils=exports.typedarrays=exports.textures=exports.setUniformsAndBindTextures=exports.programs=exports.primitives=exports.m4=exports.isArrayBuffer=exports.glEnumToString=exports.framebuffers=exports.draw=exports.attributes=void 0;let e=Float32Array;function t(t){const r=e;return e=t,r}function r(t,r,n){const o=new e(3);return t&&(o[0]=t),r&&(o[1]=r),n&&(o[2]=n),o}function n(t,r,n){return(n=n||new e(3))[0]=t[0]+r[0],n[1]=t[1]+r[1],n[2]=t[2]+r[2],n}function o(t,r,n){return(n=n||new e(3))[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],n}function i(t,r,n,o){return(o=o||new e(3))[0]=t[0]+n*(r[0]-t[0]),o[1]=t[1]+n*(r[1]-t[1]),o[2]=t[2]+n*(r[2]-t[2]),o}function a(t,r,n,o){return(o=o||new e(3))[0]=t[0]+n[0]*(r[0]-t[0]),o[1]=t[1]+n[1]*(r[1]-t[1]),o[2]=t[2]+n[2]*(r[2]-t[2]),o}function s(t,r,n){return(n=n||new e(3))[0]=Math.max(t[0],r[0]),n[1]=Math.max(t[1],r[1]),n[2]=Math.max(t[2],r[2]),n}function u(t,r,n){return(n=n||new e(3))[0]=Math.min(t[0],r[0]),n[1]=Math.min(t[1],r[1]),n[2]=Math.min(t[2],r[2]),n}function c(t,r,n){return(n=n||new e(3))[0]=t[0]*r,n[1]=t[1]*r,n[2]=t[2]*r,n}function f(t,r,n){return(n=n||new e(3))[0]=t[0]/r,n[1]=t[1]/r,n[2]=t[2]/r,n}function l(t,r,n){n=n||new e(3);const o=t[2]*r[0]-t[0]*r[2],i=t[0]*r[1]-t[1]*r[0];return n[0]=t[1]*r[2]-t[2]*r[1],n[1]=o,n[2]=i,n}function m(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function p(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])}function d(e){return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]}function b(e,t){const r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(r*r+n*n+o*o)}function y(e,t){const r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return r*r+n*n+o*o}function x(t,r){r=r||new e(3);const n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],o=Math.sqrt(n);return o>1e-5?(r[0]=t[0]/o,r[1]=t[1]/o,r[2]=t[2]/o):(r[0]=0,r[1]=0,r[2]=0),r}function h(t,r){return(r=r||new e(3))[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r}function g(t,r){return(r=r||new e(3))[0]=t[0],r[1]=t[1],r[2]=t[2],r}function A(t,r,n){return(n=n||new e(3))[0]=t[0]*r[0],n[1]=t[1]*r[1],n[2]=t[2]*r[2],n}function F(t,r,n){return(n=n||new e(3))[0]=t[0]/r[0],n[1]=t[1]/r[1],n[2]=t[2]/r[2],n}var v=Object.freeze({__proto__:null,add:n,copy:g,create:r,cross:l,distance:b,distanceSq:y,divide:F,divScalar:f,dot:m,lerp:i,lerpV:a,length:p,lengthSq:d,max:s,min:u,mulScalar:c,multiply:A,negate:h,normalize:x,setDefaultType:t,subtract:o});exports.v3=v;let w,E,T,P=Float32Array;function _(e){const t=P;return P=e,t}function S(e,t){return(t=t||new P(16))[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t[9]=-e[9],t[10]=-e[10],t[11]=-e[11],t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=-e[15],t}function B(e,t){return(t=t||new P(16))[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function I(e){return(e=e||new P(16))[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function k(e,t){if((t=t||new P(16))===e){let r;return r=e[1],e[1]=e[4],e[4]=r,r=e[2],e[2]=e[8],e[8]=r,r=e[3],e[3]=e[12],e[12]=r,r=e[6],e[6]=e[9],e[9]=r,r=e[7],e[7]=e[13],e[13]=r,r=e[11],e[11]=e[14],e[14]=r,t}const r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8],l=e[9],m=e[10],p=e[11],d=e[12],b=e[13],y=e[14],x=e[15];return t[0]=r,t[1]=a,t[2]=f,t[3]=d,t[4]=n,t[5]=s,t[6]=l,t[7]=b,t[8]=o,t[9]=u,t[10]=m,t[11]=y,t[12]=i,t[13]=c,t[14]=p,t[15]=x,t}function z(e,t){t=t||new P(16);const r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8],l=e[9],m=e[10],p=e[11],d=e[12],b=e[13],y=e[14],x=e[15],h=m*x,g=y*p,A=u*x,F=y*c,v=u*p,w=m*c,E=o*x,T=y*i,_=o*p,S=m*i,B=o*c,I=u*i,k=f*b,z=d*l,C=a*b,M=d*s,R=a*l,U=f*s,O=r*b,L=d*n,D=r*l,j=f*n,V=r*s,G=a*n,W=h*s+F*l+v*b-(g*s+A*l+w*b),N=g*n+E*l+S*b-(h*n+T*l+_*b),X=A*n+T*s+B*b-(F*n+E*s+I*b),Y=w*n+_*s+I*l-(v*n+S*s+B*l),$=1/(r*W+a*N+f*X+d*Y);return t[0]=$*W,t[1]=$*N,t[2]=$*X,t[3]=$*Y,t[4]=$*(g*a+A*f+w*d-(h*a+F*f+v*d)),t[5]=$*(h*r+T*f+_*d-(g*r+E*f+S*d)),t[6]=$*(F*r+E*a+I*d-(A*r+T*a+B*d)),t[7]=$*(v*r+S*a+B*f-(w*r+_*a+I*f)),t[8]=$*(k*c+M*p+R*x-(z*c+C*p+U*x)),t[9]=$*(z*i+O*p+j*x-(k*i+L*p+D*x)),t[10]=$*(C*i+L*c+V*x-(M*i+O*c+G*x)),t[11]=$*(U*i+D*c+G*p-(R*i+j*c+V*p)),t[12]=$*(C*m+U*y+z*u-(R*y+k*u+M*m)),t[13]=$*(D*y+k*o+L*m-(O*m+j*y+z*o)),t[14]=$*(O*u+G*y+M*o-(V*y+C*o+L*u)),t[15]=$*(V*m+R*o+j*u-(D*u+G*m+U*o)),t}function C(e,t,r){r=r||new P(16);const n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=e[6],f=e[7],l=e[8],m=e[9],p=e[10],d=e[11],b=e[12],y=e[13],x=e[14],h=e[15],g=t[0],A=t[1],F=t[2],v=t[3],w=t[4],E=t[5],T=t[6],_=t[7],S=t[8],B=t[9],I=t[10],k=t[11],z=t[12],C=t[13],M=t[14],R=t[15];return r[0]=n*g+s*A+l*F+b*v,r[1]=o*g+u*A+m*F+y*v,r[2]=i*g+c*A+p*F+x*v,r[3]=a*g+f*A+d*F+h*v,r[4]=n*w+s*E+l*T+b*_,r[5]=o*w+u*E+m*T+y*_,r[6]=i*w+c*E+p*T+x*_,r[7]=a*w+f*E+d*T+h*_,r[8]=n*S+s*B+l*I+b*k,r[9]=o*S+u*B+m*I+y*k,r[10]=i*S+c*B+p*I+x*k,r[11]=a*S+f*B+d*I+h*k,r[12]=n*z+s*C+l*M+b*R,r[13]=o*z+u*C+m*M+y*R,r[14]=i*z+c*C+p*M+x*R,r[15]=a*z+f*C+d*M+h*R,r}function M(e,t,r){return e!==(r=r||I())&&(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11]),r[12]=t[0],r[13]=t[1],r[14]=t[2],r[15]=1,r}function R(e,t){return(t=t||r())[0]=e[12],t[1]=e[13],t[2]=e[14],t}function U(e,t,n){const o=4*t;return(n=n||r())[0]=e[o+0],n[1]=e[o+1],n[2]=e[o+2],n}function O(e,t,r,n){n!==e&&(n=B(e,n));const o=4*r;return n[o+0]=t[0],n[o+1]=t[1],n[o+2]=t[2],n}function L(e,t,r,n,o){o=o||new P(16);const i=Math.tan(.5*Math.PI-.5*e),a=1/(r-n);return o[0]=i/t,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=i,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=(r+n)*a,o[11]=-1,o[12]=0,o[13]=0,o[14]=r*n*a*2,o[15]=0,o}function D(e,t,r,n,o,i,a){return(a=a||new P(16))[0]=2/(t-e),a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2/(n-r),a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2/(o-i),a[11]=0,a[12]=(t+e)/(e-t),a[13]=(n+r)/(r-n),a[14]=(i+o)/(o-i),a[15]=1,a}function j(e,t,r,n,o,i,a){const s=t-e,u=n-r,c=o-i;return(a=a||new P(16))[0]=2*o/s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*o/u,a[6]=0,a[7]=0,a[8]=(e+t)/s,a[9]=(n+r)/u,a[10]=i/c,a[11]=-1,a[12]=0,a[13]=0,a[14]=o*i/c,a[15]=0,a}function V(e,t,n,i){return i=i||new P(16),w=w||r(),E=E||r(),x(o(e,t,T=T||r()),T),x(l(n,T,w),w),x(l(T,w,E),E),i[0]=w[0],i[1]=w[1],i[2]=w[2],i[3]=0,i[4]=E[0],i[5]=E[1],i[6]=E[2],i[7]=0,i[8]=T[0],i[9]=T[1],i[10]=T[2],i[11]=0,i[12]=e[0],i[13]=e[1],i[14]=e[2],i[15]=1,i}function G(e,t){return(t=t||new P(16))[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function W(e,t,r){r=r||new P(16);const n=t[0],o=t[1],i=t[2],a=e[0],s=e[1],u=e[2],c=e[3],f=e[4],l=e[5],m=e[6],p=e[7],d=e[8],b=e[9],y=e[10],x=e[11],h=e[12],g=e[13],A=e[14],F=e[15];return e!==r&&(r[0]=a,r[1]=s,r[2]=u,r[3]=c,r[4]=f,r[5]=l,r[6]=m,r[7]=p,r[8]=d,r[9]=b,r[10]=y,r[11]=x),r[12]=a*n+f*o+d*i+h,r[13]=s*n+l*o+b*i+g,r[14]=u*n+m*o+y*i+A,r[15]=c*n+p*o+x*i+F,r}function N(e,t){t=t||new P(16);const r=Math.cos(e),n=Math.sin(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function X(e,t,r){r=r||new P(16);const n=e[4],o=e[5],i=e[6],a=e[7],s=e[8],u=e[9],c=e[10],f=e[11],l=Math.cos(t),m=Math.sin(t);return r[4]=l*n+m*s,r[5]=l*o+m*u,r[6]=l*i+m*c,r[7]=l*a+m*f,r[8]=l*s-m*n,r[9]=l*u-m*o,r[10]=l*c-m*i,r[11]=l*f-m*a,e!==r&&(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r}function Y(e,t){t=t||new P(16);const r=Math.cos(e),n=Math.sin(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function $(e,t,r){r=r||new P(16);const n=e[0],o=e[1],i=e[2],a=e[3],s=e[8],u=e[9],c=e[10],f=e[11],l=Math.cos(t),m=Math.sin(t);return r[0]=l*n-m*s,r[1]=l*o-m*u,r[2]=l*i-m*c,r[3]=l*a-m*f,r[8]=l*s+m*n,r[9]=l*u+m*o,r[10]=l*c+m*i,r[11]=l*f+m*a,e!==r&&(r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r}function q(e,t){t=t||new P(16);const r=Math.cos(e),n=Math.sin(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function H(e,t,r){r=r||new P(16);const n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=e[6],f=e[7],l=Math.cos(t),m=Math.sin(t);return r[0]=l*n+m*s,r[1]=l*o+m*u,r[2]=l*i+m*c,r[3]=l*a+m*f,r[4]=l*s-m*n,r[5]=l*u-m*o,r[6]=l*c-m*i,r[7]=l*f-m*a,e!==r&&(r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r}function Q(e,t,r){r=r||new P(16);let n=e[0],o=e[1],i=e[2];const a=Math.sqrt(n*n+o*o+i*i),s=(n/=a)*n,u=(o/=a)*o,c=(i/=a)*i,f=Math.cos(t),l=Math.sin(t),m=1-f;return r[0]=s+(1-s)*f,r[1]=n*o*m+i*l,r[2]=n*i*m-o*l,r[3]=0,r[4]=n*o*m-i*l,r[5]=u+(1-u)*f,r[6]=o*i*m+n*l,r[7]=0,r[8]=n*i*m+o*l,r[9]=o*i*m-n*l,r[10]=c+(1-c)*f,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function Z(e,t,r,n){n=n||new P(16);let o=t[0],i=t[1],a=t[2];const s=Math.sqrt(o*o+i*i+a*a),u=(o/=s)*o,c=(i/=s)*i,f=(a/=s)*a,l=Math.cos(r),m=Math.sin(r),p=1-l,d=u+(1-u)*l,b=o*i*p+a*m,y=o*a*p-i*m,x=o*i*p-a*m,h=c+(1-c)*l,g=i*a*p+o*m,A=o*a*p+i*m,F=i*a*p-o*m,v=f+(1-f)*l,w=e[0],E=e[1],T=e[2],_=e[3],S=e[4],B=e[5],I=e[6],k=e[7],z=e[8],C=e[9],M=e[10],R=e[11];return n[0]=d*w+b*S+y*z,n[1]=d*E+b*B+y*C,n[2]=d*T+b*I+y*M,n[3]=d*_+b*k+y*R,n[4]=x*w+h*S+g*z,n[5]=x*E+h*B+g*C,n[6]=x*T+h*I+g*M,n[7]=x*_+h*k+g*R,n[8]=A*w+F*S+v*z,n[9]=A*E+F*B+v*C,n[10]=A*T+F*I+v*M,n[11]=A*_+F*k+v*R,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n}function K(e,t){return(t=t||new P(16))[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function J(e,t,r){r=r||new P(16);const n=t[0],o=t[1],i=t[2];return r[0]=n*e[0],r[1]=n*e[1],r[2]=n*e[2],r[3]=n*e[3],r[4]=o*e[4],r[5]=o*e[5],r[6]=o*e[6],r[7]=o*e[7],r[8]=i*e[8],r[9]=i*e[9],r[10]=i*e[10],r[11]=i*e[11],e!==r&&(r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r}function ee(e,t,n){n=n||r();const o=t[0],i=t[1],a=t[2],s=o*e[3]+i*e[7]+a*e[11]+e[15];return n[0]=(o*e[0]+i*e[4]+a*e[8]+e[12])/s,n[1]=(o*e[1]+i*e[5]+a*e[9]+e[13])/s,n[2]=(o*e[2]+i*e[6]+a*e[10]+e[14])/s,n}function te(e,t,n){n=n||r();const o=t[0],i=t[1],a=t[2];return n[0]=o*e[0]+i*e[4]+a*e[8],n[1]=o*e[1]+i*e[5]+a*e[9],n[2]=o*e[2]+i*e[6]+a*e[10],n}function re(e,t,n){n=n||r();const o=z(e),i=t[0],a=t[1],s=t[2];return n[0]=i*o[0]+a*o[1]+s*o[2],n[1]=i*o[4]+a*o[5]+s*o[6],n[2]=i*o[8]+a*o[9]+s*o[10],n}var ne=Object.freeze({__proto__:null,axisRotate:Z,axisRotation:Q,copy:B,frustum:j,getAxis:U,getTranslation:R,identity:I,inverse:z,lookAt:V,multiply:C,negate:S,ortho:D,perspective:L,rotateX:X,rotateY:$,rotateZ:H,rotationX:N,rotationY:Y,rotationZ:q,scale:J,scaling:K,setAxis:O,setDefaultType:_,setTranslation:M,transformDirection:te,transformNormal:re,transformPoint:ee,translate:W,translation:G,transpose:k});exports.m4=ne;const oe=5120,ie=5121,ae=5122,se=5123,ue=5124,ce=5125,fe=5126,le=32819,me=32820,pe=33635,de=5131,be=33640,ye=35899,xe=35902,he=36269,ge=34042,Ae={};{const e=Ae;e[oe]=Int8Array,e[ie]=Uint8Array,e[ae]=Int16Array,e[se]=Uint16Array,e[ue]=Int32Array,e[ce]=Uint32Array,e[fe]=Float32Array,e[32819]=Uint16Array,e[32820]=Uint16Array,e[33635]=Uint16Array,e[5131]=Uint16Array,e[33640]=Uint32Array,e[35899]=Uint32Array,e[35902]=Uint32Array,e[36269]=Uint32Array,e[34042]=Uint32Array}function Fe(e){if(e instanceof Int8Array)return oe;if(e instanceof Uint8Array)return ie;if(e instanceof Uint8ClampedArray)return ie;if(e instanceof Int16Array)return ae;if(e instanceof Uint16Array)return se;if(e instanceof Int32Array)return ue;if(e instanceof Uint32Array)return ce;if(e instanceof Float32Array)return fe;throw new Error("unsupported typed array type")}function ve(e){if(e===Int8Array)return oe;if(e===Uint8Array)return ie;if(e===Uint8ClampedArray)return ie;if(e===Int16Array)return ae;if(e===Uint16Array)return se;if(e===Int32Array)return ue;if(e===Uint32Array)return ce;if(e===Float32Array)return fe;throw new Error("unsupported typed array type")}function we(e){const t=Ae[e];if(!t)throw new Error("unknown gl type");return t}const Ee="undefined"!=typeof SharedArrayBuffer?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};exports.isArrayBuffer=Ee;var Te=Object.freeze({__proto__:null,getGLTypeForTypedArray:Fe,getGLTypeForTypedArrayType:ve,getTypedArrayTypeForGLType:we,isArrayBuffer:Ee});function Pe(e,t,r){e.forEach(function(e){const n=t[e];void 0!==n&&(r[e]=n)})}function _e(e,t){Object.keys(t).forEach(function(r){t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&(t[r]=e[r])})}function Se(...e){console.error(...e)}function Be(...e){console.warn(...e)}function Ie(e,t){return"undefined"!=typeof WebGLBuffer&&t instanceof WebGLBuffer}function ke(e,t){return"undefined"!=typeof WebGLRenderbuffer&&t instanceof WebGLRenderbuffer}function ze(e,t){return"undefined"!=typeof WebGLShader&&t instanceof WebGLShader}function Ce(e,t){return"undefined"!=typeof WebGLTexture&&t instanceof WebGLTexture}function Me(e,t){return"undefined"!=typeof WebGLSampler&&t instanceof WebGLSampler}exports.typedarrays=Te;const Re=35044,Ue=34962,Oe=34963,Le=34660,De=5120,je=5121,Ve=5122,Ge=5123,We=5124,Ne=5125,Xe=5126,Ye={attribPrefix:""};function $e(e){Ye.attribPrefix=e}function qe(e){_e(e,Ye)}function He(e,t,r,n,o){e.bindBuffer(t,r),e.bufferData(t,n,o||Re)}function Qe(e,t,r,n){if(Ie(e,t))return t;r=r||Ue;const o=e.createBuffer();return He(e,r,o,t,n),o}function Ze(e){return"indices"===e}function Ke(e){return e instanceof Int8Array||e instanceof Uint8Array}function Je(e){return e===Int8Array||e===Uint8Array}function et(e){return e.length?e:e.data}const tt=/coord|texture/i,rt=/color|colour/i;function nt(e,t){let r;if(t%(r=tt.test(e)?2:rt.test(e)?4:3)>0)throw new Error(`Can not guess numComponents for attribute '${e}'. Tried ${r} but ${t} values is not evenly divisible by ${r}. You should specify it.`);return r}function ot(e,t){return e.numComponents||e.size||nt(t,et(e).length)}function it(e,t){if(Ee(e))return e;if(Ee(e.data))return e.data;Array.isArray(e)&&(e={data:e});let r=e.type;return r||(r=Ze(t)?Uint16Array:Float32Array),new r(e.data)}function at(e,t){const r={};return Object.keys(t).forEach(function(n){if(!Ze(n)){const o=t[n],i=o.attrib||o.name||o.attribName||Ye.attribPrefix+n;if(o.value){if(!Array.isArray(o.value)&&!Ee(o.value))throw new Error("array.value is not array or typedarray");r[i]={value:o.value}}else{let t,a,s,u;if(o.buffer&&o.buffer instanceof WebGLBuffer)t=o.buffer,u=o.numComponents||o.size,a=o.type,s=o.normalize;else if("number"==typeof o||"number"==typeof o.data){const r=o.data||o,i=o.type||Float32Array,c=r*i.BYTES_PER_ELEMENT;a=ve(i),s=void 0!==o.normalize?o.normalize:Je(i),u=o.numComponents||o.size||nt(n,r),t=e.createBuffer(),e.bindBuffer(Ue,t),e.bufferData(Ue,c,o.drawType||Re)}else{const r=it(o,n);t=Qe(e,r,void 0,o.drawType),a=Fe(r),s=void 0!==o.normalize?o.normalize:Ke(r),u=ot(o,n)}r[i]={buffer:t,numComponents:u,type:a,normalize:s,stride:o.stride||0,offset:o.offset||0,divisor:void 0===o.divisor?void 0:o.divisor,drawType:o.drawType}}}}),e.bindBuffer(Ue,null),r}function st(e,t,r,n){r=it(r),void 0!==n?(e.bindBuffer(Ue,t.buffer),e.bufferSubData(Ue,n,r)):He(e,Ue,t.buffer,r,t.drawType)}function ut(e,t){return t===De?1:t===je?1:t===Ve?2:t===Ge?2:t===We?4:t===Ne?4:t===Xe?4:0}const ct=["position","positions","a_position"];function ft(e){let t,r;for(r=0;r<ct.length&&!((t=ct[r])in e);++r);r===ct.length&&(t=Object.keys(e)[0]);const n=e[t],o=et(n).length,i=ot(n,t),a=o/i;if(o%i>0)throw new Error(`numComponents ${i} not correct for length ${o}`);return a}function lt(e,t){let r,n;for(n=0;n<ct.length&&!((r=ct[n])in t)&&!((r=Ye.attribPrefix+r)in t);++n);n===ct.length&&(r=Object.keys(t)[0]);const o=t[r];e.bindBuffer(Ue,o.buffer);const i=e.getBufferParameter(Ue,Le);e.bindBuffer(Ue,null);const a=i/ut(e,o.type),s=o.numComponents||o.size,u=a/s;if(u%1!=0)throw new Error(`numComponents ${s} not correct for length ${length}`);return u}function mt(e,t,r){const n=at(e,t),o=Object.assign({},r||{});o.attribs=Object.assign({},r?r.attribs:{},n);const i=t.indices;if(i){const t=it(i,"indices");o.indices=Qe(e,t,Oe),o.numElements=t.length,o.elementType=Fe(t)}else o.numElements||(o.numElements=lt(e,o.attribs));return o}function pt(e,t,r){const n="indices"===r?Oe:Ue;return Qe(e,it(t,r),n)}function dt(e,t){const r={};return Object.keys(t).forEach(function(n){r[n]=pt(e,t[n],n)}),t.indices?(r.numElements=t.indices.length,r.elementType=Fe(it(t.indices))):r.numElements=ft(t),r}var bt=Object.freeze({__proto__:null,createAttribsFromArrays:at,createBuffersFromArrays:dt,createBufferFromArray:pt,createBufferFromTypedArray:Qe,createBufferInfoFromArrays:mt,setAttribInfoBufferFromArray:st,setAttributePrefix:$e,setAttributeDefaults_:qe,getNumComponents_:ot,getArray_:et});exports.attributes=bt;const yt=et,xt=ot;function ht(e,t){let r=0;return e.push=function(){for(let t=0;t<arguments.length;++t){const n=arguments[t];if(n instanceof Array||Ee(n))for(let t=0;t<n.length;++t)e[r++]=n[t];else e[r++]=n}},e.reset=function(e){r=e||0},e.numComponents=t,Object.defineProperty(e,"numElements",{get:function(){return this.length/this.numComponents|0}}),e}function gt(e,t,r){return ht(new(r||Float32Array)(e*t),e)}function At(e){return"indices"!==e}function Ft(e){const t=e.indices,r={},n=t.length;return Object.keys(e).filter(At).forEach(function(o){const i=e[o],a=i.numComponents,s=gt(a,n,i.constructor);for(let e=0;e<n;++e){const r=t[e]*a;for(let e=0;e<a;++e)s.push(i[r+e])}r[o]=s}),r}function vt(e){if(e.indices)throw new Error("can not flatten normals of indexed vertices. deindex them first");const t=e.normal,r=t.length;for(let n=0;n<r;n+=9){const e=t[n+0],r=t[n+1],o=t[n+2],i=t[n+3],a=t[n+4],s=t[n+5];let u=e+i+t[n+6],c=r+a+t[n+7],f=o+s+t[n+8];const l=Math.sqrt(u*u+c*c+f*f);u/=l,c/=l,f/=l,t[n+0]=u,t[n+1]=c,t[n+2]=f,t[n+3]=u,t[n+4]=c,t[n+5]=f,t[n+6]=u,t[n+7]=c,t[n+8]=f}return e}function wt(e,t,r){const n=e.length,o=new Float32Array(3);for(let i=0;i<n;i+=3)r(t,[e[i],e[i+1],e[i+2]],o),e[i]=o[0],e[i+1]=o[1],e[i+2]=o[2]}function Et(e,t,n){n=n||r();const o=t[0],i=t[1],a=t[2];return n[0]=o*e[0]+i*e[1]+a*e[2],n[1]=o*e[4]+i*e[5]+a*e[6],n[2]=o*e[8]+i*e[9]+a*e[10],n}function Tt(e,t){return wt(e,t,te),e}function Pt(e,t){return wt(e,z(t),Et),e}function _t(e,t){return wt(e,t,ee),e}function St(e,t){return Object.keys(e).forEach(function(r){const n=e[r];r.indexOf("pos")>=0?_t(n,t):r.indexOf("tan")>=0||r.indexOf("binorm")>=0?Tt(n,t):r.indexOf("norm")>=0&&Pt(n,t)}),e}function Bt(e,t,r){return e=e||2,{position:{numComponents:2,data:[(t=t||0)+-1*(e*=.5),(r=r||0)+-1*e,t+1*e,r+-1*e,t+-1*e,r+1*e,t+1*e,r+1*e]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function It(e,t,r,n,o){e=e||1,t=t||1,r=r||1,n=n||1,o=o||I();const i=(r+1)*(n+1),a=gt(3,i),s=gt(3,i),u=gt(2,i);for(let l=0;l<=n;l++)for(let o=0;o<=r;o++){const i=o/r,c=l/n;a.push(e*i-.5*e,0,t*c-.5*t),s.push(0,1,0),u.push(i,c)}const c=r+1,f=gt(3,r*n*2,Uint16Array);for(let l=0;l<n;l++)for(let e=0;e<r;e++)f.push((l+0)*c+e,(l+1)*c+e,(l+0)*c+e+1),f.push((l+1)*c+e,(l+1)*c+e+1,(l+0)*c+e+1);return St({position:a,normal:s,texcoord:u,indices:f},o)}function kt(e,t,r,n,o,i,a){if(t<=0||r<=0)throw new Error("subdivisionAxis and subdivisionHeight must be > 0");n=n||0,i=i||0;const s=(o=o||Math.PI)-n,u=(a=a||2*Math.PI)-i,c=(t+1)*(r+1),f=gt(3,c),l=gt(3,c),m=gt(2,c);for(let b=0;b<=r;b++)for(let o=0;o<=t;o++){const a=o/t,c=b/r,p=u*a+i,d=s*c+n,y=Math.sin(p),x=Math.cos(p),h=Math.sin(d),g=x*h,A=Math.cos(d),F=y*h;f.push(e*g,e*A,e*F),l.push(g,A,F),m.push(1-a,c)}const p=t+1,d=gt(3,t*r*2,Uint16Array);for(let b=0;b<t;b++)for(let e=0;e<r;e++)d.push((e+0)*p+b,(e+0)*p+b+1,(e+1)*p+b),d.push((e+1)*p+b,(e+0)*p+b+1,(e+1)*p+b+1);return{position:f,normal:l,texcoord:m,indices:d}}const zt=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function Ct(e){const t=(e=e||1)/2,r=[[-t,-t,-t],[+t,-t,-t],[-t,+t,-t],[+t,+t,-t],[-t,-t,+t],[+t,-t,+t],[-t,+t,+t],[+t,+t,+t]],n=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],o=[[1,0],[0,0],[0,1],[1,1]],i=gt(3,24),a=gt(3,24),s=gt(2,24),u=gt(3,12,Uint16Array);for(let c=0;c<6;++c){const e=zt[c];for(let u=0;u<4;++u){const t=r[e[u]],f=n[c],l=o[u];i.push(t),a.push(f),s.push(l)}const t=4*c;u.push(t+0,t+1,t+2),u.push(t+0,t+2,t+3)}return{position:i,normal:a,texcoord:s,indices:u}}function Mt(e,t,r,n,o,i,a){if(n<3)throw new Error("radialSubdivisions must be 3 or greater");if(o<1)throw new Error("verticalSubdivisions must be 1 or greater");const s=void 0===i||i,u=void 0===a||a,c=(s?2:0)+(u?2:0),f=(n+1)*(o+1+c),l=gt(3,f),m=gt(3,f),p=gt(2,f),d=gt(3,n*(o+c/2)*2,Uint16Array),b=n+1,y=Math.atan2(e-t,r),x=Math.cos(y),h=Math.sin(y),g=o+(u?2:0);for(let A=s?-2:0;A<=g;++A){let i,a=A/o,s=r*a;A<0?(s=0,a=1,i=e):A>o?(s=r,a=1,i=t):i=e+A/o*(t-e),-2!==A&&A!==o+2||(i=0,a=0),s-=r/2;for(let e=0;e<b;++e){const t=Math.sin(e*Math.PI*2/n),r=Math.cos(e*Math.PI*2/n);l.push(t*i,s,r*i),A<0?m.push(0,-1,0):A>o?m.push(0,1,0):0===i?m.push(0,0,0):m.push(t*x,h,r*x),p.push(e/n,1-a)}}for(let A=0;A<o+c;++A)if(!(1===A&&s||A===o+c-2&&u))for(let e=0;e<n;++e)d.push(b*(A+0)+0+e,b*(A+0)+1+e,b*(A+1)+1+e),d.push(b*(A+0)+0+e,b*(A+1)+1+e,b*(A+1)+0+e);return{position:l,normal:m,texcoord:p,indices:d}}function Rt(e,t){t=t||[];const r=[];for(let n=0;n<e.length;n+=4){const o=e[n],i=e.slice(n+1,n+4);i.push.apply(i,t);for(let e=0;e<o;++e)r.push.apply(r,i)}return r}function Ut(){const e=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],t=Rt([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),r=Rt([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),n=e.length/3,o={position:gt(3,n),texcoord:gt(2,n),normal:gt(3,n),color:gt(4,n,Uint8Array),indices:gt(3,n/3,Uint16Array)};o.position.push(e),o.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),o.normal.push(t),o.color.push(r);for(let i=0;i<n;++i)o.indices.push(i);return o}function Ot(e,t,r,o,i,a,s){if(i<=0)throw new Error("subdivisionDown must be > 0");const u=2,c=(s=s||1)-(a=a||0),f=2*(i+1)*(2+u),l=gt(3,f),m=gt(3,f),p=gt(2,f);function d(e,t,r){return e+(t-e)*r}function b(t,r,s,f,b,y){for(let x=0;x<=i;x++){const h=r/(u-1),g=x/i,F=2*(h-.5),v=(a+g*c)*Math.PI,w=Math.sin(v),E=Math.cos(v),T=d(e,t,w),P=F*o,_=E*e,S=w*T;l.push(P,_,S);const B=n(A([0,w,E],s),f);m.push(B),p.push(h*b+y,g)}}for(let n=0;n<u;n++){const e=2*(n/(u-1)-.5);b(t,n,[1,1,1],[0,0,0],1,0),b(t,n,[0,0,0],[e,0,0],0,0),b(r,n,[1,1,1],[0,0,0],1,0),b(r,n,[0,0,0],[e,0,0],0,1)}const y=gt(3,2*i*(2+u),Uint16Array);function x(e,t){for(let r=0;r<i;++r)y.push(e+r+0,e+r+1,t+r+0),y.push(e+r+1,t+r+1,t+r+0)}const h=i+1;return x(0*h,4*h),x(5*h,7*h),x(6*h,2*h),x(3*h,1*h),{position:l,normal:m,texcoord:p,indices:y}}function Lt(e,t,r,n,o,i){return Mt(e,e,t,r,n,o,i)}function Dt(e,t,r,n,o,i){if(r<3)throw new Error("radialSubdivisions must be 3 or greater");if(n<3)throw new Error("verticalSubdivisions must be 3 or greater");o=o||0;const a=(i=i||2*Math.PI)-o,s=r+1,u=n+1,c=s*u,f=gt(3,c),l=gt(3,c),m=gt(2,c),p=gt(3,r*n*2,Uint16Array);for(let d=0;d<u;++d){const i=d/n,u=i*Math.PI*2,c=Math.sin(u),p=e+c*t,b=Math.cos(u),y=b*t;for(let e=0;e<s;++e){const t=e/r,n=o+t*a,s=Math.sin(n),u=Math.cos(n),d=s*p,x=u*p,h=s*c,g=u*c;f.push(d,y,x),l.push(h,b,g),m.push(t,1-i)}}for(let d=0;d<n;++d)for(let e=0;e<r;++e){const t=1+e,r=1+d;p.push(s*d+e,s*r+e,s*d+t),p.push(s*r+e,s*r+t,s*d+t)}return{position:f,normal:l,texcoord:m,indices:p}}function jt(e,t,r,n,o){if(t<3)throw new Error("divisions must be at least 3");o=o||1,n=n||0;const i=(t+1)*((r=r||1)+1),a=gt(3,i),s=gt(3,i),u=gt(2,i),c=gt(3,r*t*2,Uint16Array);let f=0;const l=e-n,m=t+1;for(let p=0;p<=r;++p){const e=n+l*Math.pow(p/r,o);for(let n=0;n<=t;++n){const o=2*Math.PI*n/t,i=e*Math.cos(o),l=e*Math.sin(o);if(a.push(i,0,l),s.push(0,1,0),u.push(1-n/t,p/r),p>0&&n!==t){const e=f+(n+1),t=f+n,r=f+n-m,o=f+(n+1)-m;c.push(e,t,r),c.push(e,r,o)}}f+=t+1}return{position:a,normal:s,texcoord:u,indices:c}}function Vt(e){return Math.random()*e|0}function Gt(e,t){t=t||{};const r=e.position.numElements,n=gt(4,r,Uint8Array),o=t.rand||function(e,t){return t<3?Vt(256):255};if(e.color=n,e.indices)for(let i=0;i<r;++i)n.push(o(i,0),o(i,1),o(i,2),o(i,3));else{const e=t.vertsPerColor||3,i=r/e;for(let t=0;t<i;++t){const r=[o(t,0),o(t,1),o(t,2),o(t,3)];for(let t=0;t<e;++t)n.push(r)}}return e}function Wt(e){return function(t){return dt(t,e.apply(this,Array.prototype.slice.call(arguments,1)))}}function Nt(e){return function(t){return mt(t,e.apply(null,Array.prototype.slice.call(arguments,1)))}}const Xt=["numComponents","size","type","normalize","stride","offset","attrib","name","attribName"];function Yt(e,t,r,n){n=n||0;const o=e.length;for(let i=0;i<o;++i)t[r+i]=e[i]+n}function $t(e,t){const r=yt(e),n=new r.constructor(t);let o=n;return r.numComponents&&r.numElements&&ht(n,r.numComponents),e.data&&Pe(Xt,e,o={data:n}),o}function qt(e){const t={};let r;for(let i=0;i<e.length;++i){const n=e[i];Object.keys(n).forEach(function(e){t[e]||(t[e]=[]),r||"indices"===e||(r=e);const o=n[e],i=xt(o,e),a=yt(o).length/i;t[e].push(a)})}const n=t[r],o={};return Object.keys(t).forEach(function(t){const r=function(t){let r,n=0;for(let o=0;o<e.length;++o){const i=e[o][t];n+=yt(i).length,r&&!i.data||(r=i)}return{length:n,spec:r}}(t),i=$t(r.spec,r.length);!function(t,r,n){let o=0,i=0;for(let a=0;a<e.length;++a){const s=e[a][t],u=yt(s);"indices"===t?(Yt(u,n,i,o),o+=r[a]):Yt(u,n,i),i+=u.length}}(t,n,yt(i)),o[t]=i}),o}function Ht(e){const t={};return Object.keys(e).forEach(function(r){const n=e[r],o=yt(n),i=$t(n,o.length);Yt(o,yt(i),0),t[r]=i}),t}const Qt=Nt(Ut),Zt=Wt(Ut),Kt=Nt(Ct),Jt=Wt(Ct),er=Nt(It),tr=Wt(It),rr=Nt(kt),nr=Wt(kt),or=Nt(Mt),ir=Wt(Mt),ar=Nt(Bt),sr=Wt(Bt),ur=Nt(Ot),cr=Wt(Ot),fr=Nt(Lt),lr=Wt(Lt),mr=Nt(Dt),pr=Wt(Dt),dr=Nt(jt),br=Wt(jt),yr=ur,xr=cr,hr=Ot;var gr=Object.freeze({__proto__:null,create3DFBufferInfo:Qt,create3DFBuffers:Zt,create3DFVertices:Ut,createAugmentedTypedArray:gt,createCubeBufferInfo:Kt,createCubeBuffers:Jt,createCubeVertices:Ct,createPlaneBufferInfo:er,createPlaneBuffers:tr,createPlaneVertices:It,createSphereBufferInfo:rr,createSphereBuffers:nr,createSphereVertices:kt,createTruncatedConeBufferInfo:or,createTruncatedConeBuffers:ir,createTruncatedConeVertices:Mt,createXYQuadBufferInfo:ar,createXYQuadBuffers:sr,createXYQuadVertices:Bt,createCresentBufferInfo:yr,createCresentBuffers:xr,createCresentVertices:hr,createCrescentBufferInfo:ur,createCrescentBuffers:cr,createCrescentVertices:Ot,createCylinderBufferInfo:fr,createCylinderBuffers:lr,createCylinderVertices:Lt,createTorusBufferInfo:mr,createTorusBuffers:pr,createTorusVertices:Dt,createDiscBufferInfo:dr,createDiscBuffers:br,createDiscVertices:jt,deindexVertices:Ft,flattenNormals:vt,makeRandomVertexColors:Gt,reorientDirections:Tt,reorientNormals:Pt,reorientPositions:_t,reorientVertices:St,concatVertices:qt,duplicateVertices:Ht});function Ar(e){return!!e.texStorage2D}function Fr(e){return!e.texStorage2D}exports.primitives=gr;const vr=function(){const e={},t={};return function(r,n){return function(r){const n=r.constructor.name;if(!e[n]){for(const e in r)if("number"==typeof r[e]){const n=t[r[e]];t[r[e]]=n?`${n} | ${e}`:e}e[n]=!0}}(r),t[n]||"0x"+n.toString(16)}}();exports.glEnumToString=vr;var wr=Object.freeze({__proto__:null,glEnumToString:vr,isWebGL1:Fr,isWebGL2:Ar});exports.utils=wr;const Er={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},Tr=Ee;let Pr;function _r(){return Pr=Pr||("undefined"!=typeof document&&document.createElement?document.createElement("canvas").getContext("2d"):null)}const Sr=6406,Br=6407,Ir=6408,kr=6409,zr=6410,Cr=6402,Mr=34041,Rr=33071,Ur=9728,Or=9729,Lr=3553,Dr=34067,jr=32879,Vr=35866,Gr=34069,Wr=34070,Nr=34071,Xr=34072,Yr=34073,$r=34074,qr=10241,Hr=10240,Qr=10242,Zr=10243,Kr=32882,Jr=33082,en=33083,tn=33084,rn=33085,nn=3317,on=3314,an=32878,sn=3316,un=3315,cn=32877,fn=37443,ln=37441,mn=37440,pn=33321,dn=36756,bn=33325,yn=33326,xn=33330,hn=33329,gn=33338,An=33337,Fn=33340,vn=33339,wn=33323,En=36757,Tn=33327,Pn=33328,_n=33336,Sn=33335,Bn=33332,In=33331,kn=33334,zn=33333,Cn=32849,Mn=35905,Rn=36194,Un=36758,On=35898,Ln=35901,Dn=34843,jn=34837,Vn=36221,Gn=36239,Wn=36215,Nn=36233,Xn=36209,Yn=36227,$n=32856,qn=35907,Hn=36759,Qn=32855,Zn=32854,Kn=32857,Jn=34842,eo=34836,to=36220,ro=36238,no=36975,oo=36214,io=36232,ao=36226,so=36208,uo=33189,co=33190,fo=36012,lo=36013,mo=35056,po=5120,bo=5121,yo=5122,xo=5123,ho=5124,go=5125,Ao=5126,Fo=32819,vo=32820,wo=33635,Eo=5131,To=36193,Po=33640,_o=35899,So=35902,Bo=36269,Io=34042,ko=33319,zo=33320,Co=6403,Mo=36244,Ro=36248,Uo=36249,Oo={};{const e=Oo;e[Sr]={numColorComponents:1},e[kr]={numColorComponents:1},e[zr]={numColorComponents:2},e[Br]={numColorComponents:3},e[Ir]={numColorComponents:4},e[Co]={numColorComponents:1},e[Mo]={numColorComponents:1},e[ko]={numColorComponents:2},e[zo]={numColorComponents:2},e[Br]={numColorComponents:3},e[Ro]={numColorComponents:3},e[Ir]={numColorComponents:4},e[Uo]={numColorComponents:4},e[Cr]={numColorComponents:1},e[Mr]={numColorComponents:2}}let Lo;function Do(e){if(!Lo){const e={};e[Sr]={textureFormat:Sr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[bo,Eo,To,Ao]},e[kr]={textureFormat:kr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[bo,Eo,To,Ao]},e[zr]={textureFormat:zr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[bo,Eo,To,Ao]},e[Br]={textureFormat:Br,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[bo,Eo,To,Ao,wo]},e[Ir]={textureFormat:Ir,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[bo,Eo,To,Ao,Fo,vo]},e[pn]={textureFormat:Co,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[bo]},e[dn]={textureFormat:Co,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[po]},e[bn]={textureFormat:Co,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[Ao,Eo]},e[yn]={textureFormat:Co,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[Ao]},e[xn]={textureFormat:Mo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[bo]},e[hn]={textureFormat:Mo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[po]},e[Bn]={textureFormat:Mo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[xo]},e[In]={textureFormat:Mo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[yo]},e[kn]={textureFormat:Mo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[go]},e[zn]={textureFormat:Mo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[ho]},e[wn]={textureFormat:ko,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[bo]},e[En]={textureFormat:ko,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[po]},e[Tn]={textureFormat:ko,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[Ao,Eo]},e[Pn]={textureFormat:ko,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[Ao]},e[_n]={textureFormat:zo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[bo]},e[Sn]={textureFormat:zo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[po]},e[gn]={textureFormat:zo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[xo]},e[An]={textureFormat:zo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[yo]},e[Fn]={textureFormat:zo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[go]},e[vn]={textureFormat:zo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[ho]},e[Cn]={textureFormat:Br,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[bo]},e[Mn]={textureFormat:Br,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[bo]},e[Rn]={textureFormat:Br,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[bo,wo]},e[Un]={textureFormat:Br,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[po]},e[On]={textureFormat:Br,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Ao,Eo,_o]},e[Ln]={textureFormat:Br,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Ao,Eo,So]},e[Dn]={textureFormat:Br,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[Ao,Eo]},e[jn]={textureFormat:Br,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Ao]},e[Vn]={textureFormat:Ro,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[bo]},e[Gn]={textureFormat:Ro,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[po]},e[Wn]={textureFormat:Ro,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[xo]},e[Nn]={textureFormat:Ro,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[yo]},e[Xn]={textureFormat:Ro,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[go]},e[Yn]={textureFormat:Ro,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[ho]},e[$n]={textureFormat:Ir,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[bo]},e[qn]={textureFormat:Ir,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[bo]},e[Hn]={textureFormat:Ir,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[po]},e[Qn]={textureFormat:Ir,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[bo,vo,Po]},e[Zn]={textureFormat:Ir,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[bo,Fo]},e[Kn]={textureFormat:Ir,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Po]},e[Jn]={textureFormat:Ir,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[Ao,Eo]},e[eo]={textureFormat:Ir,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[Ao]},e[to]={textureFormat:Uo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[bo]},e[ro]={textureFormat:Uo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[po]},e[no]={textureFormat:Uo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Po]},e[oo]={textureFormat:Uo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[xo]},e[io]={textureFormat:Uo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[yo]},e[ao]={textureFormat:Uo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[ho]},e[so]={textureFormat:Uo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[go]},e[uo]={textureFormat:Cr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[xo,go]},e[co]={textureFormat:Cr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[go]},e[fo]={textureFormat:Cr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ao]},e[mo]={textureFormat:Mr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Io]},e[lo]={textureFormat:Mr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Bo]},Object.keys(e).forEach(function(t){const r=e[t];r.bytesPerElementMap={},r.bytesPerElement.forEach(function(e,t){const n=r.type[t];r.bytesPerElementMap[n]=e})}),Lo=e}return Lo[e]}function jo(e,t){const r=Do(e);if(!r)throw"unknown internal format";const n=r.bytesPerElementMap[t];if(void 0===n)throw"unknown internal format";return n}function Vo(e){const t=Do(e);if(!t)throw"unknown internal format";return{format:t.textureFormat,type:t.type[0]}}function Go(e){return 0==(e&e-1)}function Wo(e,t,r,n){if(!Ar(e))return Go(t)&&Go(r);const o=Do(n);if(!o)throw"unknown internal format";return o.colorRenderable&&o.textureFilterable}function No(e){const t=Do(e);if(!t)throw"unknown internal format";return t.textureFilterable}function Xo(e){const t=Oo[e];if(!t)throw"unknown format: "+e;return t.numColorComponents}function Yo(e,t,r){return Tr(t)?Fe(t):r||bo}function $o(e,t,r,n,o){if(o%1!=0)throw"can't guess dimensions";if(r||n){if(n){if(!r&&(r=o/n)%1)throw"can't guess dimensions"}else if((n=o/r)%1)throw"can't guess dimensions"}else{const e=Math.sqrt(o/(t===Dr?6:1));e%1==0?(r=e,n=e):(r=o,n=1)}return{width:r,height:n}}function qo(e){Er.textureColor=new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}function Ho(e){_e(e,Er),e.textureColor&&qo(e.textureColor)}const Qo={};function Zo(e,t){void 0!==t.colorspaceConversion&&(Qo.colorspaceConversion=e.getParameter(fn),e.pixelStorei(fn,t.colorspaceConversion)),void 0!==t.premultiplyAlpha&&(Qo.premultiplyAlpha=e.getParameter(ln),e.pixelStorei(ln,t.premultiplyAlpha)),void 0!==t.flipY&&(Qo.flipY=e.getParameter(mn),e.pixelStorei(mn,t.flipY))}function Ko(e,t){void 0!==t.colorspaceConversion&&e.pixelStorei(fn,Qo.colorspaceConversion),void 0!==t.premultiplyAlpha&&e.pixelStorei(ln,Qo.premultiplyAlpha),void 0!==t.flipY&&e.pixelStorei(mn,Qo.flipY)}function Jo(e){Qo.unpackAlignment=e.getParameter(nn),Ar(e)&&(Qo.unpackRowLength=e.getParameter(on),Qo.unpackImageHeight=e.getParameter(an),Qo.unpackSkipPixels=e.getParameter(sn),Qo.unpackSkipRows=e.getParameter(un),Qo.unpackSkipImages=e.getParameter(cn))}function ei(e){e.pixelStorei(nn,Qo.unpackAlignment),Ar(e)&&(e.pixelStorei(on,Qo.unpackRowLength),e.pixelStorei(an,Qo.unpackImageHeight),e.pixelStorei(sn,Qo.unpackSkipPixels),e.pixelStorei(un,Qo.unpackSkipRows),e.pixelStorei(cn,Qo.unpackSkipImages))}function ti(e,t,r,n){n.minMag&&(r.call(e,t,qr,n.minMag),r.call(e,t,Hr,n.minMag)),n.min&&r.call(e,t,qr,n.min),n.mag&&r.call(e,t,Hr,n.mag),n.wrap&&(r.call(e,t,Qr,n.wrap),r.call(e,t,Zr,n.wrap),(t===jr||Me(e,t))&&r.call(e,t,Kr,n.wrap)),n.wrapR&&r.call(e,t,Kr,n.wrapR),n.wrapS&&r.call(e,t,Qr,n.wrapS),n.wrapT&&r.call(e,t,Zr,n.wrapT),n.minLod&&r.call(e,t,Jr,n.minLod),n.maxLod&&r.call(e,t,en,n.maxLod),n.baseLevel&&r.call(e,t,tn,n.baseLevel),n.maxLevel&&r.call(e,t,rn,n.maxLevel)}function ri(e,t,r){const n=r.target||Lr;e.bindTexture(n,t),ti(e,n,e.texParameteri,r)}function ni(e,t,r){ti(e,t,e.samplerParameteri,r)}function oi(e,t){const r=e.createSampler();return ni(e,r,t),r}function ii(e,t){const r={};return Object.keys(t).forEach(function(n){r[n]=oi(e,t[n])}),r}function ai(e){return e=e||Er.textureColor,Tr(e)?e:new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}function si(e,t,r,n,o,i){r=r||Er.textureOptions,i=i||Ir;const a=r.target||Lr;if(n=n||r.width,o=o||r.height,e.bindTexture(a,t),Wo(e,n,o,i))e.generateMipmap(a);else{const t=No(i)?Or:Ur;e.texParameteri(a,qr,t),e.texParameteri(a,Hr,t),e.texParameteri(a,Qr,Rr),e.texParameteri(a,Zr,Rr)}}function ui(e){return!0===e.auto||void 0===e.auto&&void 0===e.level}function ci(e,t){return(t=t||{}).cubeFaceOrder||[Gr,Wr,Nr,Xr,Yr,$r]}function fi(e,t){const r=ci(e,t).map(function(e,t){return{face:e,ndx:t}});return r.sort(function(e,t){return e.face-t.face}),r}function li(e,t,r,n){const o=(n=n||Er.textureOptions).target||Lr,i=n.level||0;let a=r.width,s=r.height;const u=n.internalFormat||n.format||Ir,c=Vo(u),f=n.format||c.format,l=n.type||c.type;if(Zo(e,n),e.bindTexture(o,t),o===Dr){const c=r.width,m=r.height;let p,d;if(c/6===m)p=m,d=[0,0,1,0,2,0,3,0,4,0,5,0];else if(m/6===c)p=c,d=[0,0,0,1,0,2,0,3,0,4,0,5];else if(c/3==m/2)p=c/3,d=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(c/2!=m/3)throw"can't figure out cube map from element: "+(r.src?r.src:r.nodeName);p=c/2,d=[0,0,1,0,0,1,1,1,0,2,1,2]}const b=_r();b?(b.canvas.width=p,b.canvas.height=p,a=p,s=p,fi(e,n).forEach(function(t){const n=d[2*t.ndx+0]*p,o=d[2*t.ndx+1]*p;b.drawImage(r,n,o,p,p,0,0,p,p),e.texImage2D(t.face,i,u,f,l,b.canvas)}),b.canvas.width=1,b.canvas.height=1):"undefined"!=typeof createImageBitmap&&(a=p,s=p,fi(e,n).forEach(function(c){const m=d[2*c.ndx+0]*p,b=d[2*c.ndx+1]*p;e.texImage2D(c.face,i,u,p,p,0,f,l,null),createImageBitmap(r,m,b,p,p,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(r){Zo(e,n),e.bindTexture(o,t),e.texImage2D(c.face,i,u,f,l,r),Ko(e,n),ui(n)&&si(e,t,n,a,s,u)})}))}else if(o===jr||o===Vr){const t=Math.min(r.width,r.height),n=Math.max(r.width,r.height),a=n/t;if(a%1!=0)throw"can not compute 3D dimensions of element";const s=r.width===n?1:0,c=r.height===n?1:0;Jo(e),e.pixelStorei(nn,1),e.pixelStorei(on,r.width),e.pixelStorei(an,0),e.pixelStorei(cn,0),e.texImage3D(o,i,u,t,t,t,0,f,l,null);for(let u=0;u<a;++u){const n=u*t*s,a=u*t*c;e.pixelStorei(sn,n),e.pixelStorei(un,a),e.texSubImage3D(o,i,0,0,u,t,t,1,f,l,r)}ei(e)}else e.texImage2D(o,i,u,f,l,r);Ko(e,n),ui(n)&&si(e,t,n,a,s,u),ri(e,t,n)}function mi(){}function pi(e){if("undefined"!=typeof document){const t=document.createElement("a");return t.href=e,t.hostname===location.hostname&&t.port===location.port&&t.protocol===location.protocol}{const t=new URL(location.href).origin;return new URL(e,location.href).origin===t}}function di(e,t){return void 0!==t||pi(e)?t:"anonymous"}function bi(e,t,r){let n;if(r=r||mi,t=void 0!==t?t:Er.crossOrigin,t=di(e,t),"undefined"!=typeof Image){n=new Image,void 0!==t&&(n.crossOrigin=t);const o=function(){n.removeEventListener("error",i),n.removeEventListener("load",a),n=null},i=function(){const t="couldn't load image: "+e;Se(t),r(t,n),o()},a=function(){r(null,n),o()};return n.addEventListener("error",i),n.addEventListener("load",a),n.src=e,n}if("undefined"!=typeof ImageBitmap){let o,i;const a=function(){r(o,i)},s={};t&&(s.mode="cors"),fetch(e,s).then(function(e){if(!e.ok)throw e;return e.blob()}).then(function(e){return createImageBitmap(e,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(e){i=e,setTimeout(a)}).catch(function(e){o=e,setTimeout(a)}),n=null}return n}function yi(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof ImageData&&e instanceof ImageData||"undefined"!=typeof HTMLElement&&e instanceof HTMLElement}function xi(e,t,r){return yi(e)?(setTimeout(function(){r(null,e)}),e):bi(e,t,r)}function hi(e,t,r){const n=(r=r||Er.textureOptions).target||Lr;if(e.bindTexture(n,t),!1===r.color)return;const o=ai(r.color);if(n===Dr)for(let i=0;i<6;++i)e.texImage2D(Gr+i,0,Ir,1,1,0,Ir,bo,o);else n===jr||n===Vr?e.texImage3D(n,0,Ir,1,1,1,0,Ir,bo,o):e.texImage2D(n,0,Ir,1,1,0,Ir,bo,o)}function gi(e,t,r,n){return n=n||mi,r=r||Er.textureOptions,hi(e,t,r),xi((r=Object.assign({},r)).src,r.crossOrigin,function(o,i){o?n(o,t,i):(li(e,t,i,r),n(null,t,i))})}function Ai(e,t,r,n){n=n||mi;const o=r.src;if(6!==o.length)throw"there must be 6 urls for a cubemap";const i=r.level||0,a=r.internalFormat||r.format||Ir,s=Vo(a),u=r.format||s.format,c=r.type||bo,f=r.target||Lr;if(f!==Dr)throw"target must be TEXTURE_CUBE_MAP";hi(e,t,r),r=Object.assign({},r);let l=6;const m=[],p=ci(e,r);let d;d=o.map(function(o,s){return xi(o,r.crossOrigin,(b=p[s],function(o,s){--l,o?m.push(o):s.width!==s.height?m.push("cubemap face img is not a square: "+s.src):(Zo(e,r),e.bindTexture(f,t),5===l?ci().forEach(function(t){e.texImage2D(t,i,a,u,c,s)}):e.texImage2D(b,i,a,u,c,s),Ko(e,r),ui(r)&&e.generateMipmap(f)),0===l&&n(m.length?m:void 0,t,d)}));var b})}function Fi(e,t,r,n){n=n||mi;const o=r.src,i=r.internalFormat||r.format||Ir,a=Vo(i),s=r.format||a.format,u=r.type||bo,c=r.target||Vr;if(c!==jr&&c!==Vr)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";hi(e,t,r),r=Object.assign({},r);let f=o.length;const l=[];let m;const p=r.level||0;let d=r.width,b=r.height;const y=o.length;let x=!0;m=o.map(function(o,a){return xi(o,r.crossOrigin,(h=a,function(o,a){if(--f,o)l.push(o);else{if(Zo(e,r),e.bindTexture(c,t),x){x=!1,d=r.width||a.width,b=r.height||a.height,e.texImage3D(c,p,i,d,b,y,0,s,u,null);for(let t=0;t<y;++t)e.texSubImage3D(c,p,0,0,t,d,b,1,s,u,a)}else{let t,r=a;a.width===d&&a.height===b||(r=(t=_r()).canvas,t.canvas.width=d,t.canvas.height=b,t.drawImage(a,0,0,d,b)),e.texSubImage3D(c,p,0,0,h,d,b,1,s,u,r),t&&r===t.canvas&&(t.canvas.width=0,t.canvas.height=0)}Ko(e,r),ui(r)&&e.generateMipmap(c)}0===f&&n(l.length?l:void 0,t,m)}));var h})}function vi(e,t,r,n){const o=(n=n||Er.textureOptions).target||Lr;e.bindTexture(o,t);let i=n.width,a=n.height,s=n.depth;const u=n.level||0,c=n.internalFormat||n.format||Ir,f=Vo(c),l=n.format||f.format,m=n.type||Yo(e,r,f.type);if(Tr(r))r instanceof Uint8ClampedArray&&(r=new Uint8Array(r.buffer));else{const e=we(m);r=new e(r)}const p=jo(c,m),d=r.byteLength/p;if(d%1)throw"length wrong size for format: "+vr(e,l);let b;if(o===jr||o===Vr)if(i||a||s)!i||a&&s?!a||i&&s?(b=$o(e,o,i,a,d/s),i=b.width,a=b.height):(b=$o(e,o,i,s,d/a),i=b.width,s=b.height):(b=$o(e,o,a,s,d/i),a=b.width,s=b.height);else{const e=Math.cbrt(d);if(e%1!=0)throw"can't guess cube size of array of numElements: "+d;i=e,a=e,s=e}else b=$o(e,o,i,a,d),i=b.width,a=b.height;if(Jo(e),e.pixelStorei(nn,n.unpackAlignment||1),Zo(e,n),o===Dr){const t=d/6*(p/r.BYTES_PER_ELEMENT);fi(e,n).forEach(n=>{const o=t*n.ndx,s=r.subarray(o,o+t);e.texImage2D(n.face,u,c,i,a,0,l,m,s)})}else o===jr||o===Vr?e.texImage3D(o,u,c,i,a,s,0,l,m,r):e.texImage2D(o,u,c,i,a,0,l,m,r);return Ko(e,n),ei(e),{width:i,height:a,depth:s,type:m}}function wi(e,t,r){const n=r.target||Lr;e.bindTexture(n,t);const o=r.level||0,i=r.internalFormat||r.format||Ir,a=Vo(i),s=r.format||a.format,u=r.type||a.type;if(Zo(e,r),n===Dr)for(let c=0;c<6;++c)e.texImage2D(Gr+c,o,i,r.width,r.height,0,s,u,null);else n===jr||n===Vr?e.texImage3D(n,o,i,r.width,r.height,r.depth,0,s,u,null):e.texImage2D(n,o,i,r.width,r.height,0,s,u,null);Ko(e,r)}function Ei(e,t,r){r=r||mi,t=t||Er.textureOptions;const n=e.createTexture(),o=t.target||Lr;let i=t.width||1,a=t.height||1;const s=t.internalFormat||Ir;e.bindTexture(o,n),o===Dr&&(e.texParameteri(o,Qr,Rr),e.texParameteri(o,Zr,Rr));let u=t.src;if(u)if("function"==typeof u&&(u=u(e,t)),"string"==typeof u)gi(e,n,t,r);else if(Tr(u)||Array.isArray(u)&&("number"==typeof u[0]||Array.isArray(u[0])||Tr(u[0]))){const r=vi(e,n,u,t);i=r.width,a=r.height}else Array.isArray(u)&&("string"==typeof u[0]||yi(u[0]))?o===Dr?Ai(e,n,t,r):Fi(e,n,t,r):(li(e,n,u,t),i=u.width,a=u.height);else wi(e,n,t);return ui(t)&&si(e,n,t,i,a,s),ri(e,n,t),n}function Ti(e,t,r,n,o,i){n=n||r.width,o=o||r.height,i=i||r.depth;const a=r.target||Lr;e.bindTexture(a,t);const s=r.level||0,u=r.internalFormat||r.format||Ir,c=Vo(u),f=r.format||c.format;let l;const m=r.src;if(l=m&&(Tr(m)||Array.isArray(m)&&"number"==typeof m[0])?r.type||Yo(e,m,c.type):r.type||c.type,a===Dr)for(let p=0;p<6;++p)e.texImage2D(Gr+p,s,u,n,o,0,f,l,null);else a===jr||a===Vr?e.texImage3D(a,s,u,n,o,i,0,f,l,null):e.texImage2D(a,s,u,n,o,0,f,l,null)}function Pi(e){return"string"==typeof e||Array.isArray(e)&&"string"==typeof e[0]}function _i(e,t,r){r=r||mi;let n=0;const o=[],i={},a={};function s(){0===n&&setTimeout(function(){r(o.length?o:void 0,i,a)},0)}return Object.keys(t).forEach(function(r){const u=t[r];let c;Pi(u.src)&&(c=function(e,t,i){a[r]=i,--n,e&&o.push(e),s()},++n),i[r]=Ei(e,u,c)}),s(),i}var Si=Object.freeze({__proto__:null,setTextureDefaults_:Ho,createSampler:oi,createSamplers:ii,setSamplerParameters:ni,createTexture:Ei,setEmptyTexture:wi,setTextureFromArray:vi,loadTextureFromUrl:gi,setTextureFromElement:li,setTextureFilteringForSize:si,setTextureParameters:ri,setDefaultTextureColor:qo,createTextures:_i,resizeTexture:Ti,canGenerateMipmap:Wo,canFilter:No,getNumComponentsForFormat:Xo,getBytesPerElementForInternalFormat:jo,getFormatAndTypeForInternalFormat:Vo});exports.textures=Si;const Bi=Se,Ii=Be;function ki(e){return"undefined"!=typeof document&&document.getElementById?document.getElementById(e):null}const zi=33984,Ci=35048,Mi=34962,Ri=34963,Ui=35345,Oi=35982,Li=36386,Di=35713,ji=35714,Vi=35632,Gi=35633,Wi=35981,Ni=35718,Xi=35721,Yi=35971,$i=35382,qi=35396,Hi=35398,Qi=35392,Zi=35395,Ki=5126,Ji=35664,ea=35665,ta=35666,ra=5124,na=35667,oa=35668,ia=35669,aa=35670,sa=35671,ua=35672,ca=35673,fa=35674,la=35675,ma=35676,pa=35678,da=35680,ba=35679,ya=35682,xa=35685,ha=35686,ga=35687,Aa=35688,Fa=35689,va=35690,wa=36289,Ea=36292,Ta=36293,Pa=5125,_a=36294,Sa=36295,Ba=36296,Ia=36298,ka=36299,za=36300,Ca=36303,Ma=36306,Ra=36307,Ua=36308,Oa=36311,La=3553,Da=34067,ja=32879,Va=35866,Ga={};function Wa(e,t){return Ga[t].bindPoint}function Na(e,t){return function(r){e.uniform1f(t,r)}}function Xa(e,t){return function(r){e.uniform1fv(t,r)}}function Ya(e,t){return function(r){e.uniform2fv(t,r)}}function $a(e,t){return function(r){e.uniform3fv(t,r)}}function qa(e,t){return function(r){e.uniform4fv(t,r)}}function Ha(e,t){return function(r){e.uniform1i(t,r)}}function Qa(e,t){return function(r){e.uniform1iv(t,r)}}function Za(e,t){return function(r){e.uniform2iv(t,r)}}function Ka(e,t){return function(r){e.uniform3iv(t,r)}}function Ja(e,t){return function(r){e.uniform4iv(t,r)}}function es(e,t){return function(r){e.uniform1ui(t,r)}}function ts(e,t){return function(r){e.uniform1uiv(t,r)}}function rs(e,t){return function(r){e.uniform2uiv(t,r)}}function ns(e,t){return function(r){e.uniform3uiv(t,r)}}function os(e,t){return function(r){e.uniform4uiv(t,r)}}function is(e,t){return function(r){e.uniformMatrix2fv(t,!1,r)}}function as(e,t){return function(r){e.uniformMatrix3fv(t,!1,r)}}function ss(e,t){return function(r){e.uniformMatrix4fv(t,!1,r)}}function us(e,t){return function(r){e.uniformMatrix2x3fv(t,!1,r)}}function cs(e,t){return function(r){e.uniformMatrix3x2fv(t,!1,r)}}function fs(e,t){return function(r){e.uniformMatrix2x4fv(t,!1,r)}}function ls(e,t){return function(r){e.uniformMatrix4x2fv(t,!1,r)}}function ms(e,t){return function(r){e.uniformMatrix3x4fv(t,!1,r)}}function ps(e,t){return function(r){e.uniformMatrix4x3fv(t,!1,r)}}function ds(e,t,r,n){const o=Wa(e,t);return Ar(e)?function(t){let i,a;Ce(e,t)?(i=t,a=null):(i=t.texture,a=t.sampler),e.uniform1i(n,r),e.activeTexture(zi+r),e.bindTexture(o,i),e.bindSampler(r,a)}:function(t){e.uniform1i(n,r),e.activeTexture(zi+r),e.bindTexture(o,t)}}function bs(e,t,r,n,o){const i=Wa(e,t),a=new Int32Array(o);for(let s=0;s<o;++s)a[s]=r+s;return Ar(e)?function(t){e.uniform1iv(n,a),t.forEach(function(t,n){let o,s;e.activeTexture(zi+a[n]),Ce(e,t)?(o=t,s=null):(o=t.texture,s=t.sampler),e.bindSampler(r,s),e.bindTexture(i,o)})}:function(t){e.uniform1iv(n,a),t.forEach(function(t,r){e.activeTexture(zi+a[r]),e.bindTexture(i,t)})}}function ys(e,t){return function(r){if(r.value)switch(e.disableVertexAttribArray(t),r.value.length){case 4:e.vertexAttrib4fv(t,r.value);break;case 3:e.vertexAttrib3fv(t,r.value);break;case 2:e.vertexAttrib2fv(t,r.value);break;case 1:e.vertexAttrib1fv(t,r.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(Mi,r.buffer),e.enableVertexAttribArray(t),e.vertexAttribPointer(t,r.numComponents||r.size,r.type||Ki,r.normalize||!1,r.stride||0,r.offset||0),void 0!==r.divisor&&e.vertexAttribDivisor(t,r.divisor)}}function xs(e,t){return function(r){if(r.value){if(e.disableVertexAttribArray(t),4!==r.value.length)throw new Error("The length of an integer constant value must be 4!");e.vertexAttrib4iv(t,r.value)}else e.bindBuffer(Mi,r.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,r.numComponents||r.size,r.type||ra,r.stride||0,r.offset||0),void 0!==r.divisor&&e.vertexAttribDivisor(t,r.divisor)}}function hs(e,t){return function(r){if(r.value){if(e.disableVertexAttribArray(t),4!==r.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");e.vertexAttrib4uiv(t,r.value)}else e.bindBuffer(Mi,r.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,r.numComponents||r.size,r.type||Pa,r.stride||0,r.offset||0),void 0!==r.divisor&&e.vertexAttribDivisor(t,r.divisor)}}function gs(e,t,r){const n=r.size,o=r.count;return function(r){e.bindBuffer(Mi,r.buffer);const i=r.size||r.numComponents||n,a=i/o,s=r.type||Ki,u=Ga[s].size*i,c=r.normalize||!1,f=r.offset||0,l=u/o;for(let n=0;n<o;++n)e.enableVertexAttribArray(t+n),e.vertexAttribPointer(t+n,a,s,c,u,f+l*n),void 0!==r.divisor&&e.vertexAttribDivisor(t+n,r.divisor)}}Ga[Ki]={Type:Float32Array,size:4,setter:Na,arraySetter:Xa},Ga[35664]={Type:Float32Array,size:8,setter:Ya},Ga[35665]={Type:Float32Array,size:12,setter:$a},Ga[35666]={Type:Float32Array,size:16,setter:qa},Ga[ra]={Type:Int32Array,size:4,setter:Ha,arraySetter:Qa},Ga[35667]={Type:Int32Array,size:8,setter:Za},Ga[35668]={Type:Int32Array,size:12,setter:Ka},Ga[35669]={Type:Int32Array,size:16,setter:Ja},Ga[Pa]={Type:Uint32Array,size:4,setter:es,arraySetter:ts},Ga[36294]={Type:Uint32Array,size:8,setter:rs},Ga[36295]={Type:Uint32Array,size:12,setter:ns},Ga[36296]={Type:Uint32Array,size:16,setter:os},Ga[aa]={Type:Uint32Array,size:4,setter:Ha,arraySetter:Qa},Ga[35671]={Type:Uint32Array,size:8,setter:Za},Ga[35672]={Type:Uint32Array,size:12,setter:Ka},Ga[35673]={Type:Uint32Array,size:16,setter:Ja},Ga[35674]={Type:Float32Array,size:16,setter:is},Ga[35675]={Type:Float32Array,size:36,setter:as},Ga[35676]={Type:Float32Array,size:64,setter:ss},Ga[35685]={Type:Float32Array,size:24,setter:us},Ga[35686]={Type:Float32Array,size:32,setter:fs},Ga[35687]={Type:Float32Array,size:24,setter:cs},Ga[35688]={Type:Float32Array,size:48,setter:ms},Ga[35689]={Type:Float32Array,size:32,setter:ls},Ga[35690]={Type:Float32Array,size:48,setter:ps},Ga[35678]={Type:null,size:0,setter:ds,arraySetter:bs,bindPoint:3553},Ga[35680]={Type:null,size:0,setter:ds,arraySetter:bs,bindPoint:34067},Ga[35679]={Type:null,size:0,setter:ds,arraySetter:bs,bindPoint:32879},Ga[35682]={Type:null,size:0,setter:ds,arraySetter:bs,bindPoint:3553},Ga[36289]={Type:null,size:0,setter:ds,arraySetter:bs,bindPoint:35866},Ga[36292]={Type:null,size:0,setter:ds,arraySetter:bs,bindPoint:35866},Ga[36293]={Type:null,size:0,setter:ds,arraySetter:bs,bindPoint:34067},Ga[36298]={Type:null,size:0,setter:ds,arraySetter:bs,bindPoint:3553},Ga[36299]={Type:null,size:0,setter:ds,arraySetter:bs,bindPoint:32879},Ga[36300]={Type:null,size:0,setter:ds,arraySetter:bs,bindPoint:34067},Ga[36303]={Type:null,size:0,setter:ds,arraySetter:bs,bindPoint:35866},Ga[36306]={Type:null,size:0,setter:ds,arraySetter:bs,bindPoint:3553},Ga[36307]={Type:null,size:0,setter:ds,arraySetter:bs,bindPoint:32879},Ga[36308]={Type:null,size:0,setter:ds,arraySetter:bs,bindPoint:34067},Ga[36311]={Type:null,size:0,setter:ds,arraySetter:bs,bindPoint:35866};const As={};function Fs(e,t){return t=t||0,++t,e.split("\n").map(function(e,r){return r+t+": "+e}).join("\n")}As[Ki]={size:4,setter:ys},As[35664]={size:8,setter:ys},As[35665]={size:12,setter:ys},As[35666]={size:16,setter:ys},As[ra]={size:4,setter:xs},As[35667]={size:8,setter:xs},As[35668]={size:12,setter:xs},As[35669]={size:16,setter:xs},As[Pa]={size:4,setter:hs},As[36294]={size:8,setter:hs},As[36295]={size:12,setter:hs},As[36296]={size:16,setter:hs},As[aa]={size:4,setter:xs},As[35671]={size:8,setter:xs},As[35672]={size:12,setter:xs},As[35673]={size:16,setter:xs},As[35674]={size:4,setter:gs,count:2},As[35675]={size:9,setter:gs,count:3},As[35676]={size:16,setter:gs,count:4};const vs=/^[ \t]*\n/;function ws(e,t,r,n){const o=n||Bi,i=e.createShader(r);let a=0;if(vs.test(t)&&(a=1,t=t.replace(vs,"")),e.shaderSource(i,t),e.compileShader(i),!e.getShaderParameter(i,Di)){const r=e.getShaderInfoLog(i);return o(Fs(t,a)+"\n*** Error compiling shader: "+r),e.deleteShader(i),null}return i}function Es(e,t,r){let n,o;if("function"==typeof t&&(r=t,t=void 0),"function"==typeof e)r=e,e=void 0;else if(e&&!Array.isArray(e)){if(e.errorCallback)return e;const t=e;r=t.errorCallback,e=t.attribLocations,n=t.transformFeedbackVaryings,o=t.transformFeedbackMode}const i={errorCallback:r||Bi,transformFeedbackVaryings:n,transformFeedbackMode:o};if(e){let r={};Array.isArray(e)?e.forEach(function(e,n){r[e]=t?t[n]:n}):r=e,i.attribLocations=r}return i}const Ts=["VERTEX_SHADER","FRAGMENT_SHADER"];function Ps(e,t){return t.indexOf("frag")>=0?Vi:t.indexOf("vert")>=0?Gi:void 0}function _s(e,t){t.forEach(function(t){e.deleteShader(t)})}function Ss(e,t,r,n,o){const i=Es(r,n,o),a=[],s=[];for(let f=0;f<t.length;++f){let r=t[f];if("string"==typeof r){const t=ki(r),n=t?t.text:r;let o=e[Ts[f]];t&&t.type&&(o=Ps(e,t.type)||o),r=ws(e,n,o,i.errorCallback),s.push(r)}ze(e,r)&&a.push(r)}if(a.length!==t.length)return i.errorCallback("not enough shaders for program"),_s(e,s),null;const u=e.createProgram();a.forEach(function(t){e.attachShader(u,t)}),i.attribLocations&&Object.keys(i.attribLocations).forEach(function(t){e.bindAttribLocation(u,i.attribLocations[t],t)});let c=i.transformFeedbackVaryings;if(c&&(c.attribs&&(c=c.attribs),Array.isArray(c)||(c=Object.keys(c)),e.transformFeedbackVaryings(u,c,i.transformFeedbackMode||Wi)),e.linkProgram(u),!e.getProgramParameter(u,ji)){const t=e.getProgramInfoLog(u);return i.errorCallback("Error in program linking:"+t),e.deleteProgram(u),_s(e,s),null}return u}function Bs(e,t,r,n){let o="";const i=ki(t);if(!i)throw new Error(`unknown script element: ${t}`);o=i.text;const a=r||Ps(e,i.type);if(!a)throw new Error("unknown shader type");return ws(e,o,a,n)}function Is(e,t,r,n,o){const i=Es(r,n,o),a=[];for(let s=0;s<t.length;++s){const r=Bs(e,t[s],e[Ts[s]],i.errorCallback);if(!r)return null;a.push(r)}return Ss(e,a,i)}function ks(e,t,r,n,o){const i=Es(r,n,o),a=[];for(let s=0;s<t.length;++s){const r=ws(e,t[s],e[Ts[s]],i.errorCallback);if(!r)return null;a.push(r)}return Ss(e,a,i)}function zs(e){const t=e.name;return t.startsWith("gl_")||t.startsWith("webgl_")}function Cs(e,t){let r=0;function n(t,n,o){const i=n.size>1&&"[0]"===n.name.substr(-3),a=n.type,s=Ga[a];if(!s)throw new Error(`unknown type: 0x${a.toString(16)}`);let u;if(s.bindPoint){const t=r;r+=n.size,u=i?s.arraySetter(e,a,t,o,n.size):s.setter(e,a,t,o,n.size)}else u=s.arraySetter&&i?s.arraySetter(e,o):s.setter(e,o);return u.location=o,u}const o={},i=e.getProgramParameter(t,Ni);for(let a=0;a<i;++a){const r=e.getActiveUniform(t,a);if(zs(r))continue;let i=r.name;"[0]"===i.substr(-3)&&(i=i.substr(0,i.length-3));const s=e.getUniformLocation(t,r.name);s&&(o[i]=n(0,r,s))}return o}function Ms(e,t){const r={},n=e.getProgramParameter(t,Yi);for(let o=0;o<n;++o){const n=e.getTransformFeedbackVarying(t,o);r[n.name]={index:o,type:n.type,size:n.size}}return r}function Rs(e,t,r){t.transformFeedbackInfo&&(t=t.transformFeedbackInfo),r.attribs&&(r=r.attribs);for(const n in r){const o=t[n];if(o){const t=r[n];t.offset?e.bindBufferRange(Oi,o.index,t.buffer,t.offset,t.size):e.bindBufferBase(Oi,o.index,t.buffer)}}}function Us(e,t,r){const n=e.createTransformFeedback();return e.bindTransformFeedback(Li,n),e.useProgram(t.program),Rs(e,t,r),e.bindTransformFeedback(Li,null),n}function Os(e,t){const r=e.getProgramParameter(t,Ni),n=[],o=[];for(let s=0;s<r;++s){o.push(s),n.push({});const r=e.getActiveUniform(t,s);if(zs(r))break;n[s].name=r.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(r){const i=r[0],a=r[1];e.getActiveUniforms(t,o,e[i]).forEach(function(e,t){n[t][a]=e})});const i={},a=e.getProgramParameter(t,$i);for(let s=0;s<a;++s){const r=e.getActiveUniformBlockName(t,s),n={index:e.getUniformBlockIndex(t,r),usedByVertexShader:e.getActiveUniformBlockParameter(t,s,qi),usedByFragmentShader:e.getActiveUniformBlockParameter(t,s,Hi),size:e.getActiveUniformBlockParameter(t,s,Qi),uniformIndices:e.getActiveUniformBlockParameter(t,s,Zi)};n.used=n.usedByVertexShader||n.usedByFragmentShader,i[r]=n}return{blockSpecs:i,uniformData:n}}const Ls=/\[\d+\]\.$/;function Ds(e,t,r,n){const o=r.blockSpecs,i=r.uniformData,a=o[n];if(!a)return Ii("no uniform block object named:",n),{name:n,uniforms:{}};const s=new ArrayBuffer(a.size),u=e.createBuffer(),c=a.index;e.bindBuffer(Ui,u),e.uniformBlockBinding(t,a.index,c);let f=n+".";Ls.test(f)&&(f=f.replace(Ls,"."));const l={};return a.uniformIndices.forEach(function(e){const t=i[e],r=Ga[t.type],n=r.Type,o=t.size*r.size;let a=t.name;a.substr(0,f.length)===f&&(a=a.substr(f.length)),l[a]=new n(s,t.offset,o/n.BYTES_PER_ELEMENT)}),{name:n,array:s,asFloat:new Float32Array(s),buffer:u,uniforms:l}}function js(e,t,r){return Ds(e,t.program,t.uniformBlockSpec,r)}function Vs(e,t,r){const n=(t.uniformBlockSpec||t).blockSpecs[r.name];if(n){const t=n.index;return e.bindBufferRange(Ui,t,r.buffer,r.offset||0,r.array.byteLength),!0}return!1}function Gs(e,t,r){Vs(e,t,r)&&e.bufferData(Ui,r.array,Ci)}function Ws(e,t){const r=e.uniforms;for(const n in t){const e=r[n];if(e){const r=t[n];r.length?e.set(r):e[0]=r}}}function Ns(e,t){const r=e.uniformSetters||e,n=arguments.length;for(let o=1;o<n;++o){const e=arguments[o];if(Array.isArray(e)){const t=e.length;for(let n=0;n<t;++n)Ns(r,e[n])}else for(const t in e){const n=r[t];n&&n(e[t])}}}const Xs=Ns;function Ys(e,t){const r={},n=e.getProgramParameter(t,Xi);for(let o=0;o<n;++o){const n=e.getActiveAttrib(t,o);if(zs(n))continue;const i=e.getAttribLocation(t,n.name),a=As[n.type],s=a.setter(e,i,a);s.location=i,r[n.name]=s}return r}function $s(e,t){for(const r in t){const n=e[r];n&&n(t[r])}}function qs(e,t,r){r.vertexArrayObject?e.bindVertexArray(r.vertexArrayObject):($s(t.attribSetters||t,r.attribs),r.indices&&e.bindBuffer(Ri,r.indices))}function Hs(e,t){const r={program:t,uniformSetters:Cs(e,t),attribSetters:Ys(e,t)};return Ar(e)&&(r.uniformBlockSpec=Os(e,t),r.transformFeedbackInfo=Ms(e,t)),r}function Qs(e,t,r,n,o){const i=Es(r,n,o);let a=!0;if(t=t.map(function(e){if(e.indexOf("\n")<0){const t=ki(e);t?e=t.text:(i.errorCallback("no element with id: "+e),a=!1)}return e}),!a)return null;const s=ks(e,t,i);return s?Hs(e,s):null}exports.setUniformsAndBindTextures=Xs;var Zs=Object.freeze({__proto__:null,createAttributeSetters:Ys,createProgram:Ss,createProgramFromScripts:Is,createProgramFromSources:ks,createProgramInfo:Qs,createProgramInfoFromProgram:Hs,createUniformSetters:Cs,createUniformBlockSpecFromProgram:Os,createUniformBlockInfoFromProgram:Ds,createUniformBlockInfo:js,createTransformFeedback:Us,createTransformFeedbackInfo:Ms,bindTransformFeedbackInfo:Rs,setAttributes:$s,setBuffersAndAttributes:qs,setUniforms:Ns,setUniformsAndBindTextures:Xs,setUniformBlock:Gs,setBlockUniforms:Ws,bindUniformBlock:Vs});exports.programs=Zs;const Ks=4,Js=5123;function eu(e,t,r,n,o,i){r=void 0===r?Ks:r;const a=t.indices,s=t.elementType,u=void 0===n?t.numElements:n;o=void 0===o?0:o,s||a?void 0!==i?e.drawElementsInstanced(r,u,void 0===s?Js:t.elementType,o,i):e.drawElements(r,u,void 0===s?Js:t.elementType,o):void 0!==i?e.drawArraysInstanced(r,o,u,i):e.drawArrays(r,o,u)}function tu(e,t){let r=null,n=null;t.forEach(function(t){if(!1===t.active)return;const o=t.programInfo,i=t.vertexArrayInfo||t.bufferInfo;let a=!1;const s=void 0===t.type?Ks:t.type;o!==r&&(r=o,e.useProgram(o.program),a=!0),(a||i!==n)&&(n&&n.vertexArrayObject&&!i.vertexArrayObject&&e.bindVertexArray(null),n=i,qs(e,o,i)),Ns(o,t.uniforms),eu(e,i,s,t.count,t.offset,t.instanceCount)}),n&&n.vertexArrayObject&&e.bindVertexArray(null)}var ru=Object.freeze({__proto__:null,drawBufferInfo:eu,drawObjectList:tu});exports.draw=ru;const nu=36160,ou=36161,iu=3553,au=5121,su=6402,uu=6408,cu=32854,fu=32855,lu=36194,mu=33189,pu=6401,du=36168,bu=34041,yu=36064,xu=36096,hu=36128,gu=33306,Au=33071,Fu=9729,vu=[{format:6408,type:5121,min:Fu,wrap:Au},{format:34041}],wu={};function Eu(e){return wu[e]}wu[34041]=33306,wu[6401]=36128,wu[36168]=36128,wu[6402]=36096,wu[33189]=36096;const Tu={};function Pu(e){return Tu[e]}function _u(e,t,r,n){const o=nu,i=e.createFramebuffer();e.bindFramebuffer(o,i),r=r||e.drawingBufferWidth,n=n||e.drawingBufferHeight;let a=0;const s={framebuffer:i,attachments:[],width:r,height:n};return(t=t||vu).forEach(function(t){let i=t.attachment;const u=t.format;let c=Eu(u);if(c||(c=yu+a++),!i)if(Pu(u))i=e.createRenderbuffer(),e.bindRenderbuffer(ou,i),e.renderbufferStorage(ou,u,r,n);else{const o=Object.assign({},t);o.width=r,o.height=n,void 0===o.auto&&(o.auto=!1,o.min=o.min||o.minMag||Fu,o.mag=o.mag||o.minMag||Fu,o.wrapS=o.wrapS||o.wrap||Au,o.wrapT=o.wrapT||o.wrap||Au),i=Ei(e,o)}if(ke(e,i))e.framebufferRenderbuffer(o,c,ou,i);else{if(!Ce(e,i))throw new Error("unknown attachment type");void 0!==t.layer?e.framebufferTextureLayer(o,c,i,t.level||0,t.layer):e.framebufferTexture2D(o,c,t.target||iu,i,t.level||0)}s.attachments.push(i)}),s}function Su(e,t,r,n,o){n=n||e.drawingBufferWidth,o=o||e.drawingBufferHeight,t.width=n,t.height=o,(r=r||vu).forEach(function(r,i){const a=t.attachments[i],s=r.format;if(ke(e,a))e.bindRenderbuffer(ou,a),e.renderbufferStorage(ou,s,n,o);else{if(!Ce(e,a))throw new Error("unknown attachment type");Ti(e,a,r,n,o)}})}function Bu(e,t,r){r=r||nu,t?(e.bindFramebuffer(r,t.framebuffer),e.viewport(0,0,t.width,t.height)):(e.bindFramebuffer(r,null),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight))}Tu[32854]=!0,Tu[32855]=!0,Tu[36194]=!0,Tu[34041]=!0,Tu[33189]=!0,Tu[6401]=!0,Tu[36168]=!0;var Iu=Object.freeze({__proto__:null,bindFramebufferInfo:Bu,createFramebufferInfo:_u,resizeFramebufferInfo:Su});exports.framebuffers=Iu;const ku=34963;function zu(e,t,r){const n=e.createVertexArray();return e.bindVertexArray(n),t.length||(t=[t]),t.forEach(function(t){qs(e,t,r)}),e.bindVertexArray(null),{numElements:r.numElements,elementType:r.elementType,vertexArrayObject:n}}function Cu(e,t,r,n){const o=e.createVertexArray();return e.bindVertexArray(o),$s(t,r),n&&e.bindBuffer(ku,n),e.bindVertexArray(null),o}function Mu(e,t,r){return Cu(e,t.attribSetters||t,r.attribs,r.indices)}var Ru=Object.freeze({__proto__:null,createVertexArrayInfo:zu,createVAOAndSetAttributes:Cu,createVAOFromBufferInfo:Mu});exports.vertexArrays=Ru;const Uu={addExtensionsToContext:!0};function Ou(e){_e(e,Uu),qe(e),Ho(e)}const Lu=/^(.*?)_/;function Du(e,t){vr(e,0);const r=e.getExtension(t);if(r){const n={},o=Lu.exec(t)[1],i="_"+o;for(const t in r){const a=r[t],s="function"==typeof a,u=s?o:i;let c=t;t.endsWith(u)&&(c=t.substring(0,t.length-u.length)),void 0!==e[c]?s||e[c]===a||Be(c,e[c],a,t):s?e[c]=function(e){return function(){return e.apply(r,arguments)}}(a):(e[c]=a,n[c]=a)}n.constructor={name:r.constructor.name},vr(n,0)}return r}const ju=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function Vu(e){for(let t=0;t<ju.length;++t)Du(e,ju[t])}function Gu(e,t){const r=["webgl","experimental-webgl"];let n=null;for(let o=0;o<r.length;++o)if(n=e.getContext(r[o],t)){Uu.addExtensionsToContext&&Vu(n);break}return n}function Wu(e,t){return Gu(e,t)}function Nu(e,t){const r=["webgl2","webgl","experimental-webgl"];let n=null;for(let o=0;o<r.length;++o)if(n=e.getContext(r[o],t)){Uu.addExtensionsToContext&&Vu(n);break}return n}function Xu(e,t){return Nu(e,t)}function Yu(e,t){t=t||1,t=Math.max(0,t);const r=e.clientWidth*t|0,n=e.clientHeight*t|0;return(e.width!==r||e.height!==n)&&(e.width=r,e.height=n,!0)}
},{}],"Focm":[function(require,module,exports) {
"use strict";var e=require("gl-matrix"),r=n(require("twgl.js"));function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=t();if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function a(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(e,r){return c(e)||f(e,r)||s(e,r)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,r){if(e){if("string"==typeof e)return u(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,r):void 0}}function u(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function f(e,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(t.push(i.value),!r||t.length!==r);n=!0);}catch(u){a=!0,o=u}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return t}}function c(e){if(Array.isArray(e))return e}function l(e,r,t){var n,a=r.accessors[t],o=r.bufferViews[a.bufferView];if(!o.webglBuffer){var i=e.createBuffer(),s=o.target||e.ARRAY_BUFFER,u=r.buffers[o.buffer];console.log(u);var f=new Uint8Array(u,o.byteOffset,o.byteLength);e.bindBuffer(s,i),e.bufferData(s,f,e.STATIC_DRAW),o.webglBuffer=i,n=new Float32Array(r.buffers[0],o.byteOffset,o.byteLength/Float32Array.BYTES_PER_ELEMENT)}return{accessor:a,buffer:o.webglBuffer,stride:o.stride||0,data:n}}function m(e,t){for(var n,i={},s=t.meshes[0].primitives[0],u=0,f=Object.entries(s.attributes);u<f.length;u++){var c=o(f[u],2),m=c[0],v=l(e,t,c[1]),b=v.accessor,p=v.buffer,d=v.stride,g=v.data;n=b.count,i["a_".concat(m)]=a({buffer:p,type:b.componentType,numComponents:w(b.type),stride:d,offset:0|b.byteOffset,data:g},"data",g)}var y={attribs:i,numElements:n};if(void 0!==s.indices){var h=l(e,t,s.indices),T=h.accessor,A=h.buffer;y.numElements=T.count,y.indices=A,y.elementType=T.componentType}return s.bufferInfo=y,s.vao=r.createVAOFromBufferInfo(e,R,s.bufferInfo),!0}function v(e,t){var n={},a=t.materials[0],o=t.images,i=a.pbrMetallicRoughness.baseColorTexture.index,s=a.pbrMetallicRoughness.metallicRoughnessTexture.index,u=a.normalTexture.index,f=a.occlusionTexture.index,c=a.emissiveTexture.index;if(!a)return 0;null!=i&&(n.uBaseColorMap={src:d(o[i].uri)}),null!=s&&(n.uMetalRoughMap={src:d(o[s].uri)}),null!=u&&(n.uNormalMap={src:d(o[u].uri)}),null!=f&&(n.uAOMAP={src:d(o[f].uri)}),null!=c&&(n.uEmissiveMap={src:d(o[c].uri)});var l=r.createTextures(e,n);t.materials[0].uniforms={},Object.keys(n).forEach(function(e){t.materials[0].uniforms[e]=l[e]})}r.setAttributePrefix("a_");var b="https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/DamagedHelmet/glTF/DamagedHelmet.gltf",p=new URL(b,location.href);function d(e){return new URL(e,p.href).href}var g=new XMLHttpRequest;function y(e,r){var t,n=[];for(t=0;t<r.length;)n.push(r.slice(t,t+=e));return n}function h(t,n){var a=y(3,n.meshes[0].primitives[0].bufferInfo.attribs.a_NORMAL.data),o=[],i=0;a.forEach(function(r){var t=e.vec3.create();e.vec3.cross(t,r,[0,0,1]);var n=e.vec3.create();e.vec3.cross(n,r,[0,1,0]);var a=e.vec3.create();a=e.vec3.length(t)>e.vec3.length(n)?t:n,e.vec3.normalize(a,a),o[i++]=a[0],o[i++]=a[1],o[i++]=a[2]}),n.meshes[0].primitives[0].bufferInfo.attribs;var s=r.createBufferInfoFromArrays(t,{Tangent:o});r.setBuffersAndAttributes(t,R,s),console.log(o)}function T(e){throw new Error("no key: ".concat(e))}g.open("GET",b),g.responseType="text",g.send(),g.onload=function(){var e,r=d((e=JSON.parse(g.response)).buffers[0].uri),t=new XMLHttpRequest;t.open("GET",r),t.responseType="arraybuffer",t.send(),t.onload=function(){e.buffers[0]=t.response,_(e),console.log(e)}};var A={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16};function w(e){return A[e]||T(e)}var E=0,O=document.querySelector("#pbr-test"),M=O.getContext("webgl2"),R=r.createProgramInfo(M,["vs","fs"]);function _(t){if(r.resizeCanvasToDisplaySize(M.canvas),M.viewport(0,0,M.canvas.width,M.canvas.height),M.enable(M.DEPTH_TEST),M.enable(M.CULL_FACE),M.clearColor(.1,.1,.1,1),M.clear(M.COLOR_BUFFER_BIT|M.DEPTH_BUFFER_BIT),m(M,t)<=0)console.log("Failed to set the vertex buffer");else{v(M,t);var n=0,a=function a(o){isNaN(o)&&(o=0);var i=(o*=.001)-n;n=o;var s=45*Math.PI/180,u=M.canvas.clientWidth/M.canvas.clientHeight,f=e.mat4.create();e.mat4.perspective(f,s,u,.1,1e3),E+=i;var c=[0,0,-7],l=e.mat4.create();e.mat4.lookAt(l,c,[0,0,0],[0,1,0]),M.clear(M.COLOR_BUFFER_BIT|M.DEPTH_BUFFER_BIT);var m=t.meshes[0].primitives[0];M.bindVertexArray(m.vao);var v=e.mat4.create();e.mat4.fromQuat(v,t.nodes[0].rotation),e.mat4.rotate(v,v,E,[0,0,1]),M.useProgram(R.program),r.setBuffersAndAttributes(M,R,m.bufferInfo),r.setUniforms(R,{u_projectionM:f,u_viewM:l,u_rotateM:v});var b=t.materials[0];r.setUniforms(R,b.uniforms);var p=e.vec3.create();p=[1,3,-6],r.setUniforms(R,{uLightPosition:p,uCamPosition:c,uLightRadius:3,uLightColor:[50,50,50]}),r.drawBufferInfo(M,m.bufferInfo),requestAnimationFrame(a)};requestAnimationFrame(a),a()}}console.log(R);
},{"gl-matrix":"IF0X","twgl.js":"e1yJ"}]},{},["Focm"], null)
//# sourceMappingURL=/web.1ea4aee5.js.map